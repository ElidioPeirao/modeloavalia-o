(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var Ed={exports:{}},yl={};var A_;function gb(){if(A_)return yl;A_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:h}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var S_;function yb(){return S_||(S_=1,Ed.exports=gb()),Ed.exports}var C=yb(),Td={exports:{}},At={};var w_;function _b(){if(w_)return At;w_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function X(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,nt={};function mt(O,K,et){this.props=O,this.context=K,this.refs=nt,this.updater=et||Z}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ct(){}ct.prototype=mt.prototype;function Et(O,K,et){this.props=O,this.context=K,this.refs=nt,this.updater=et||Z}var jt=Et.prototype=new ct;jt.constructor=Et,it(jt,mt.prototype),jt.isPureReactComponent=!0;var Qt=Array.isArray;function Ot(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,K,et){var rt=et.ref;return{$$typeof:r,type:O,key:K,ref:rt!==void 0?rt:null,props:et}}function V(O,K){return I(O.type,K,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function te(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function pe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ot,Ot):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,et,rt,_t){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(wt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case r:case t:Mt=!0;break;case b:return Mt=O._init,G(Mt(O._payload),K,et,rt,_t)}}if(Mt)return _t=_t(O),Mt=rt===""?"."+te(O,0):rt,Qt(_t)?(et="",Mt!=null&&(et=Mt.replace(w,"$&/")+"/"),G(_t,K,et,"",function(He){return He})):_t!=null&&(x(_t)&&(_t=V(_t,et+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+Mt)),K.push(_t)),1;Mt=0;var re=rt===""?".":rt+":";if(Qt(O))for(var oe=0;oe<O.length;oe++)rt=O[oe],wt=re+te(rt,oe),Mt+=G(rt,K,et,wt,_t);else if(oe=X(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(rt=O.next()).done;)rt=rt.value,wt=re+te(rt,oe++),Mt+=G(rt,K,et,wt,_t);else if(wt==="object"){if(typeof O.then=="function")return G(pe(O),K,et,rt,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function tt(O,K,et){if(O==null)return O;var rt=[],_t=0;return G(O,rt,"","",function(wt){return K.call(et,wt,_t++)}),rt}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:tt,forEach:function(O,K,et){tt(O,function(){K.apply(this,arguments)},et)},count:function(O){var K=0;return tt(O,function(){K++}),K},toArray:function(O){return tt(O,function(K){return K})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=S,At.Children=qt,At.Component=mt,At.Fragment=i,At.Profiler=l,At.PureComponent=Et,At.StrictMode=a,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,K,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=it({},O.props),_t=O.key;if(K!=null)for(wt in K.key!==void 0&&(_t=""+K.key),K)!A.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(rt[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)rt.children=et;else if(1<wt){for(var Mt=Array(wt),re=0;re<wt;re++)Mt[re]=arguments[re+2];rt.children=Mt}return I(O.type,_t,rt)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},At.createElement=function(O,K,et){var rt,_t={},wt=null;if(K!=null)for(rt in K.key!==void 0&&(wt=""+K.key),K)A.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=K[rt]);var Mt=arguments.length-2;if(Mt===1)_t.children=et;else if(1<Mt){for(var re=Array(Mt),oe=0;oe<Mt;oe++)re[oe]=arguments[oe+2];_t.children=re}if(O&&O.defaultProps)for(rt in Mt=O.defaultProps,Mt)_t[rt]===void 0&&(_t[rt]=Mt[rt]);return I(O,wt,_t)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:g,render:O}},At.isValidElement=x,At.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ht}},At.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},At.startTransition=function(O){var K=N.T,et={};N.T=et;try{var rt=O(),_t=N.S;_t!==null&&_t(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ot,Vt)}catch(wt){Vt(wt)}finally{K!==null&&et.types!==null&&(K.types=et.types),N.T=K}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(O){return N.H.use(O)},At.useActionState=function(O,K,et){return N.H.useActionState(O,K,et)},At.useCallback=function(O,K){return N.H.useCallback(O,K)},At.useContext=function(O){return N.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,K){return N.H.useDeferredValue(O,K)},At.useEffect=function(O,K){return N.H.useEffect(O,K)},At.useEffectEvent=function(O){return N.H.useEffectEvent(O)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(O,K,et){return N.H.useImperativeHandle(O,K,et)},At.useInsertionEffect=function(O,K){return N.H.useInsertionEffect(O,K)},At.useLayoutEffect=function(O,K){return N.H.useLayoutEffect(O,K)},At.useMemo=function(O,K){return N.H.useMemo(O,K)},At.useOptimistic=function(O,K){return N.H.useOptimistic(O,K)},At.useReducer=function(O,K,et){return N.H.useReducer(O,K,et)},At.useRef=function(O){return N.H.useRef(O)},At.useState=function(O){return N.H.useState(O)},At.useSyncExternalStore=function(O,K,et){return N.H.useSyncExternalStore(O,K,et)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.4",At}var R_;function dm(){return R_||(R_=1,Td.exports=_b()),Td.exports}var Wt=dm(),bd={exports:{}},_l={},Ad={exports:{}},Sd={};var C_;function vb(){return C_||(C_=1,(function(r){function t(G,tt){var ht=G.length;G.push(tt);t:for(;0<ht;){var Vt=ht-1>>>1,qt=G[Vt];if(0<l(qt,tt))G[Vt]=tt,G[ht]=qt,ht=Vt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var tt=G[0],ht=G.pop();if(ht!==tt){G[0]=ht;t:for(var Vt=0,qt=G.length,O=qt>>>1;Vt<O;){var K=2*(Vt+1)-1,et=G[K],rt=K+1,_t=G[rt];if(0>l(et,ht))rt<qt&&0>l(_t,et)?(G[Vt]=_t,G[rt]=ht,Vt=rt):(G[Vt]=et,G[K]=ht,Vt=K);else if(rt<qt&&0>l(_t,ht))G[Vt]=_t,G[rt]=ht,Vt=rt;else break t}}return tt}function l(G,tt){var ht=G.sortIndex-tt.sortIndex;return ht!==0?ht:G.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],b=1,S=null,M=3,X=!1,Z=!1,it=!1,nt=!1,mt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function jt(G){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=G)a(_),tt.sortIndex=tt.expirationTime,t(v,tt);else break;tt=i(_)}}function Qt(G){if(it=!1,jt(G),!Z)if(i(v)!==null)Z=!0,Ot||(Ot=!0,U());else{var tt=i(_);tt!==null&&pe(Qt,tt.startTime-G)}}var Ot=!1,N=-1,A=5,I=-1;function V(){return nt?!0:!(r.unstable_now()-I<A)}function x(){if(nt=!1,Ot){var G=r.unstable_now();I=G;var tt=!0;try{t:{Z=!1,it&&(it=!1,ct(N),N=-1),X=!0;var ht=M;try{e:{for(jt(G),S=i(v);S!==null&&!(S.expirationTime>G&&V());){var Vt=S.callback;if(typeof Vt=="function"){S.callback=null,M=S.priorityLevel;var qt=Vt(S.expirationTime<=G);if(G=r.unstable_now(),typeof qt=="function"){S.callback=qt,jt(G),tt=!0;break e}S===i(v)&&a(v),jt(G)}else a(v);S=i(v)}if(S!==null)tt=!0;else{var O=i(_);O!==null&&pe(Qt,O.startTime-G),tt=!1}}break t}finally{S=null,M=ht,X=!1}tt=void 0}}finally{tt?U():Ot=!1}}}var U;if(typeof Et=="function")U=function(){Et(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,te=w.port2;w.port1.onmessage=x,U=function(){te.postMessage(null)}}else U=function(){mt(x,0)};function pe(G,tt){N=mt(function(){G(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var ht=M;M=tt;try{return G()}finally{M=ht}},r.unstable_requestPaint=function(){nt=!0},r.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=M;M=G;try{return tt()}finally{M=ht}},r.unstable_scheduleCallback=function(G,tt,ht){var Vt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Vt+ht:Vt):ht=Vt,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ht+qt,G={id:b++,callback:tt,priorityLevel:G,startTime:ht,expirationTime:qt,sortIndex:-1},ht>Vt?(G.sortIndex=ht,t(_,G),i(v)===null&&G===i(_)&&(it?(ct(N),N=-1):it=!0,pe(Qt,ht-Vt))):(G.sortIndex=qt,t(v,G),Z||X||(Z=!0,Ot||(Ot=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var tt=M;return function(){var ht=M;M=tt;try{return G.apply(this,arguments)}finally{M=ht}}}})(Sd)),Sd}var I_;function Eb(){return I_||(I_=1,Ad.exports=vb()),Ad.exports}var wd={exports:{}},We={};var N_;function Tb(){if(N_)return We;N_=1;var r=dm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,b)},We.flushSync=function(v){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=b,a.d.f()}},We.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},We.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},We.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,S=g(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:X}):b==="script"&&a.d.X(v,{crossOrigin:S,integrity:M,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},We.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},We.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=g(b,_.crossOrigin);a.d.L(v,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},We.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},We.requestFormReset=function(v){a.d.r(v)},We.unstable_batchedUpdates=function(v,_){return v(_)},We.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.4",We}var x_;function bb(){if(x_)return wd.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=Tb(),wd.exports}var D_;function Ab(){if(D_)return _l;D_=1;var r=Eb(),t=dm(),i=bb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=f;else{for(var p=!1,E=c.child;E;){if(E===s){p=!0,s=c,o=f;break}if(E===o){p=!0,o=c,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=c;break}if(E===o){p=!0,o=f,s=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),ct=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case nt:return"StrictMode";case Qt:return"Suspense";case Ot:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case Et:return e.displayName||"Context";case ct:return(e._context.displayName||"Context")+".Consumer";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var pe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Vt=[],qt=-1;function O(e){return{current:e}}function K(e){0>qt||(e.current=Vt[qt],Vt[qt]=null,qt--)}function et(e,n){qt++,Vt[qt]=e.current,e.current=n}var rt=O(null),_t=O(null),wt=O(null),Mt=O(null);function re(e,n){switch(et(wt,n),et(_t,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),et(rt,e)}function oe(){K(rt),K(_t),K(wt)}function He(e){e.memoizedState!==null&&et(Mt,e);var n=rt.current,s=Ky(n,e.type);n!==s&&(et(_t,e),et(rt,s))}function ms(e){_t.current===e&&(K(rt),K(_t)),Mt.current===e&&(K(Mt),dl._currentValue=ht)}var Li,ps;function In(e){if(Li===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Li=n&&n[1]||"",ps=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Li+e+ps}var hr=!1;function Pi(e,n){if(!e||hr)return"";hr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),z=E.split(`
`);for(c=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(o===R.length||c===z.length)for(o=R.length-1,c=z.length-1;1<=o&&0<=c&&R[o]!==z[c];)c--;for(;1<=o&&0<=c;o--,c--)if(R[o]!==z[c]){if(o!==1||c!==1)do if(o--,c--,0>c||R[o]!==z[c]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=c);break}}}finally{hr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?In(s):""}function fr(e,n){switch(e.tag){case 26:case 27:case 5:return In(e.type);case 16:return In("Lazy");case 13:return e.child!==n&&n!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return Pi(e.type,!1);case 11:return Pi(e.type.render,!1);case 1:return Pi(e.type,!0);case 31:return In("Activity");default:return""}}function dr(e){try{var n="",s=null;do n+=fr(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,q=r.unstable_scheduleCallback,gt=r.unstable_cancelCallback,st=r.unstable_shouldYield,bt=r.unstable_requestPaint,Nt=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,Fn=r.unstable_ImmediatePriority,gs=r.unstable_UserBlockingPriority,an=r.unstable_NormalPriority,un=r.unstable_LowPriority,mr=r.unstable_IdlePriority,ia=r.log,Zl=r.unstable_setDisableYieldValue,Qn=null,qe=null;function Nn(e){if(typeof ia=="function"&&Zl(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Qn,e)}catch{}}var ve=Math.clz32?Math.clz32:tu,Wl=Math.log,sa=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/sa|0)|0}var li=256,pr=262144,Se=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=ui(o):(p&=E,p!==0?c=ui(p):s||(s=E&~e,s!==0&&(c=ui(s))))):(E=o&~f,E!==0?c=ui(E):p!==0?c=ui(p):s||(s=o&~e,s!==0&&(c=ui(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ah(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function hi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,s,o,c,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-ve(s),Y=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var H=j[F];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&yr(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function yr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function _o(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ve(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function vo(e,n){var s=n&-n;return s=(s&42)!==0?1:_r(s),(s&(e.suspendedLanes|n))!==0?0:s}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:g_(e.type))}function Yn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Xn=Math.random().toString(36).slice(2),we="__reactFiber$"+Xn,Pe="__reactProps$"+Xn,fi="__reactContainer$"+Xn,ra="__reactEvents$"+Xn,wh="__reactListeners$"+Xn,iu="__reactHandles$"+Xn,su="__reactResources$"+Xn,di="__reactMarker$"+Xn;function aa(e){delete e[we],delete e[Pe],delete e[ra],delete e[wh],delete e[iu]}function mi(e){var n=e[we];if(n)return n;for(var s=e.parentNode;s;){if(n=s[fi]||s[we]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=t_(e);e!==null;){if(s=e[we])return s;e=t_(e)}return n}e=s,s=e.parentNode}return null}function xn(e){if(e=e[we]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pi(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(e){e[di]=!0}var Eo=new Set,To={};function gi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(To[e]=n,e=0;e<n.length;e++)Eo.add(n[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},So={};function ru(e){return ge.call(So,e)?!0:ge.call(Ao,e)?!1:bo.test(e)?So[e]=!0:(Ao[e]=!0,!1)}function oa(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function En(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ys(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=ys(e)?"checked":"value";e._valueTracker=wo(e,n,""+e[n])}}function vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ys(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function cn(e){return e.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(e,n,s,o,c,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ro(e,p,ze(n)):s!=null?Ro(e,p,ze(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function au(e,n,s,o,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Jt(e)}function Ro(e,n,s){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function _s(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function vs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(pe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Jt(e)}function hn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Io(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&Co(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return Es.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var No=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,vi=null;function Tr(e){var n=xn(e);if(n&&(e=n.stateNode)){var s=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(la(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[Pe]||null;if(!c)throw Error(a(90));la(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&vr(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&_s(e,!!s.multiple,n,!1)}}}var ha=!1;function bs(e,n,s){if(ha)return e(n,s);ha=!0;try{var o=e(n);return o}finally{if(ha=!1,(Ts!==null||vi!==null)&&(nc(),Ts&&(n=Ts,e=vi,vi=Ts=null,Tr(n),e)))for(n=0;n<e.length;n++)Tr(e[n])}}function $n(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Pe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(On)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){br=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{br=!1}var Ei=null,xo=null,Ar=null;function Do(){if(Ar)return Ar;var e,n=xo,s=n.length,o,c="value"in Ei?Ei.value:Ei.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===c[f-o];o++);return Ar=c.slice(e,1<o?1-o:void 0)}function Sr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Zn(){return!1}function Ge(e){function n(s,o,c,f,p){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Zn,this.isPropagationStopped=Zn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ge(Bi),As=S({},Bi,{view:0,detail:0}),Oo=Ge(As),Ss,fa,bi,da=S({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Ss=e.screenX-bi.screenX,fa=e.screenY-bi.screenY):fa=Ss=0,bi=e),Ss)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Vo=Ge(da),wr=S({},da,{dataTransfer:0}),cu=Ge(wr),hu=S({},As,{relatedTarget:0}),Rr=Ge(hu),Mo=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=Ge(Mo),ma=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Ge(ma),mu=S({},Bi,{data:0}),Ai=Ge(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function ws(){return _u}var on=S({},As,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?Sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=Ge(on),Eu=S({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ge(Eu),u=S({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=Ge(u),y=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ge(y),L=S({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ge(L),W=S({},Bi,{newState:0,oldState:0}),Rt=Ge(W),Ee=[9,13,27,32],Kt=On&&"CompositionEvent"in window,fe=null;On&&"documentMode"in document&&(fe=document.documentMode);var Vn=On&&"TextEvent"in window&&!fe,Si=On&&(!Kt||fe&&8<fe&&11>=fe),Wn=" ",ti=!1;function Cr(e,n){switch(e){case"keyup":return Ee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function jT(e,n){switch(e){case"compositionend":return pa(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function BT(e,n){if(ga)return e==="compositionend"||!Kt&&Cr(e,n)?(e=Do(),Ar=xo=Ei=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!HT[e.type]:n==="textarea"}function sp(e,n,s,o){Ts?vi?vi.push(o):vi=[o]:Ts=o,n=uc(n,"onChange"),0<n.length&&(s=new Ti("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var ko=null,Uo=null;function qT(e){jy(e,0)}function Tu(e){var n=vn(e);if(vr(n))return e}function rp(e,n){if(e==="change")return n}var ap=!1;if(On){var Rh;if(On){var Ch="oninput"in document;if(!Ch){var op=document.createElement("div");op.setAttribute("oninput","return;"),Ch=typeof op.oninput=="function"}Rh=Ch}else Rh=!1;ap=Rh&&(!document.documentMode||9<document.documentMode)}function lp(){ko&&(ko.detachEvent("onpropertychange",up),Uo=ko=null)}function up(e){if(e.propertyName==="value"&&Tu(Uo)){var n=[];sp(n,Uo,e,Dn(e)),bs(qT,n)}}function GT(e,n,s){e==="focusin"?(lp(),ko=n,Uo=s,ko.attachEvent("onpropertychange",up)):e==="focusout"&&lp()}function FT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Uo)}function QT(e,n){if(e==="click")return Tu(n)}function KT(e,n){if(e==="input"||e==="change")return Tu(n)}function YT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:YT;function Lo(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!ge.call(n,c)||!Tn(e[c],n[c]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,n){var s=cp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=cp(s)}}function fp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=_i(e.document)}return n}function Ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var XT=On&&"documentMode"in document&&11>=document.documentMode,ya=null,Nh=null,Po=null,xh=!1;function mp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xh||ya==null||ya!==_i(o)||(o=ya,"selectionStart"in o&&Ih(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=uc(Nh,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ya)))}function Ir(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var _a={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Dh={},pp={};On&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Nr(e){if(Dh[e])return Dh[e];if(!_a[e])return e;var n=_a[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in pp)return Dh[e]=n[s];return e}var gp=Nr("animationend"),yp=Nr("animationiteration"),_p=Nr("animationstart"),JT=Nr("transitionrun"),$T=Nr("transitionstart"),ZT=Nr("transitioncancel"),vp=Nr("transitionend"),Ep=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function ei(e,n){Ep.set(e,n),gi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],va=0,Vh=0;function Au(){for(var e=va,n=Vh=va=0;n<e;){var s=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var c=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&c!==null){var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}f!==0&&Tp(s,c,f)}}function Su(e,n,s,o){Mn[va++]=e,Mn[va++]=n,Mn[va++]=s,Mn[va++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mh(e,n,s,o){return Su(e,n,s,o),wu(e)}function xr(e,n){return Su(e,null,null,n),wu(e)}function Tp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ve(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<al)throw al=0,Gf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ea={};function WT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,n,s,o){return new WT(e,n,s,o)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var s=e.alternate;return s===null?(s=bn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function bp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,c,f){var p=0;if(o=e,typeof e=="function")kh(e)&&(p=1);else if(typeof e=="string")p=sb(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=bn(31,s,n,c),e.elementType=I,e.lanes=f,e;case it:return Dr(s.children,c,f,n);case nt:p=8,c|=24;break;case mt:return e=bn(12,s,n,c|2),e.elementType=mt,e.lanes=f,e;case Qt:return e=bn(13,s,n,c),e.elementType=Qt,e.lanes=f,e;case Ot:return e=bn(19,s,n,c),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:p=10;break t;case ct:p=9;break t;case jt:p=11;break t;case N:p=14;break t;case A:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=bn(p,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function Dr(e,n,s,o){return e=bn(7,e,o,n),e.lanes=s,e}function Uh(e,n,s){return e=bn(6,e,null,n),e.lanes=s,e}function Ap(e){var n=bn(18,null,null,0);return n.stateNode=e,n}function Lh(e,n,s){return n=bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Sp=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var s=Sp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:dr(n)},Sp.set(e,n),n)}return{value:e,source:n,stack:dr(n)}}var Ta=[],ba=0,Cu=null,zo=0,Un=[],Ln=0,Rs=null,wi=1,Ri="";function Gi(e,n){Ta[ba++]=zo,Ta[ba++]=Cu,Cu=e,zo=n}function wp(e,n,s){Un[Ln++]=wi,Un[Ln++]=Ri,Un[Ln++]=Rs,Rs=e;var o=wi;e=Ri;var c=32-ve(o)-1;o&=~(1<<c),s+=1;var f=32-ve(n)+c;if(30<f){var p=c-c%5;f=(o&(1<<p)-1).toString(32),o>>=p,c-=p,wi=1<<32-ve(n)+c|s<<c|o,Ri=f+e}else wi=1<<f|s<<c|o,Ri=e}function Ph(e){e.return!==null&&(Gi(e,1),wp(e,1,0))}function zh(e){for(;e===Cu;)Cu=Ta[--ba],Ta[ba]=null,zo=Ta[--ba],Ta[ba]=null;for(;e===Rs;)Rs=Un[--Ln],Un[Ln]=null,Ri=Un[--Ln],Un[Ln]=null,wi=Un[--Ln],Un[Ln]=null}function Rp(e,n){Un[Ln++]=wi,Un[Ln++]=Ri,Un[Ln++]=Rs,wi=n.id,Ri=n.overflow,Rs=e}var Fe=null,ue=null,Bt=!1,Cs=null,Pn=!1,jh=Error(a(519));function Is(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(kn(n,e)),jh}function Cp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[we]=e,n[Pe]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<ll.length;s++)Dt(ll[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),vs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Gy(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Is(e,!0)}function Ip(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Fe=Fe.return}}function Aa(e){if(e!==Fe)return!1;if(!Bt)return Ip(e),Bt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rd(e.type,e.memoizedProps)),s=!s),s&&ue&&Is(e),Ip(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=Wy(e)}else n===27?(n=ue,Hs(e.type)?(e=cd,cd=null,ue=e):ue=n):ue=Fe?jn(e.stateNode.nextSibling):null;return!0}function Or(){ue=Fe=null,Bt=!1}function Bh(){var e=Cs;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Cs=null),e}function jo(e){Cs===null?Cs=[e]:Cs.push(e)}var Hh=O(null),Vr=null,Fi=null;function Ns(e,n,s){et(Hh,n._currentValue),n._currentValue=s}function Qi(e){e._currentValue=Hh.current,K(Hh)}function qh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Gh(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),qh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),qh(p,s,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Sa(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;Tn(c.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(c===Mt.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}c=c.return}e!==null&&Gh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Vr=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Np(Vr,e)}function Nu(e,n){return Vr===null&&Mr(e),Np(e,n)}function Np(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Fi===null){if(e===null)throw Error(a(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return s}var t1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},e1=r.unstable_scheduleCallback,n1=r.unstable_NormalPriority,Ie={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new t1,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&e1(n1,function(){e.controller.abort()})}var Ho=null,Qh=0,wa=0,Ra=null;function i1(e,n){if(Ho===null){var s=Ho=[];Qh=0,wa=Jf(),Ra={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Qh++,n.then(xp,xp),n}function xp(){if(--Qh===0&&Ho!==null){Ra!==null&&(Ra.status="fulfilled");var e=Ho;Ho=null,wa=0,Ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function s1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var Dp=G.S;G.S=function(e,n){my=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&i1(e,n),Dp!==null&&Dp(e,n)};var kr=O(null);function Kh(){var e=kr.current;return e!==null?e:ae.pooledCache}function xu(e,n){n===null?et(kr,kr.current):et(kr,n.pool)}function Op(){var e=Kh();return e===null?null:{parent:Ie._currentValue,pool:e}}var Ca=Error(a(460)),Yh=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function Vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Up(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Up(e),e}throw Lr=n,Ca}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Lr=s,Ca):s}}var Lr=null;function kp(){if(Lr===null)throw Error(a(459));var e=Lr;return Lr=null,e}function Up(e){if(e===Ca||e===Du)throw Error(a(483))}var Ia=null,qo=0;function Vu(e){var n=qo;return qo+=1,Ia===null&&(Ia=[]),Mp(Ia,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Lp(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function c(k,D){return k=qi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=Uh(P,k.mode,Q),D.return=k,D):(D=c(D,P),D.return=k,D)}function R(k,D,P,Q){var ft=P.type;return ft===it?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Ur(ft)===D.type)?(D=c(D,P.props),Go(D,P),D.return=k,D):(D=Ru(P.type,P.key,P.props,null,k.mode,Q),Go(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Lh(P,k.mode,Q),D.return=k,D):(D=c(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,ft){return D===null||D.tag!==7?(D=Dr(P,k.mode,Q,ft),D.return=k,D):(D=c(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Uh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case X:return P=Ru(D.type,D.key,D.props,null,k.mode,P),Go(P,D),P.return=k,P;case Z:return D=Lh(D,k.mode,P),D.return=k,D;case A:return D=Ur(D),Y(k,D,P)}if(pe(D)||U(D))return D=Dr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Vu(D),P);if(D.$$typeof===Et)return Y(k,Nu(k,D),P);Mu(k,D)}return null}function j(k,D,P,Q){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case X:return P.key===ft?R(k,D,P,Q):null;case Z:return P.key===ft?z(k,D,P,Q):null;case A:return P=Ur(P),j(k,D,P,Q)}if(pe(P)||U(P))return ft!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,Vu(P),Q);if(P.$$typeof===Et)return j(k,D,Nu(k,P),Q);Mu(k,P)}return null}function H(k,D,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:return k=k.get(Q.key===null?P:Q.key)||null,R(D,k,Q,ft);case Z:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,ft);case A:return Q=Ur(Q),H(k,D,P,Q,ft)}if(pe(Q)||U(Q))return k=k.get(P)||null,F(D,k,Q,ft,null);if(typeof Q.then=="function")return H(k,D,P,Vu(Q),ft);if(Q.$$typeof===Et)return H(k,D,P,Nu(D,Q),ft);Mu(D,Q)}return null}function lt(k,D,P,Q){for(var ft=null,Gt=null,ut=D,It=D=0,Ut=null;ut!==null&&It<P.length;It++){ut.index>It?(Ut=ut,ut=null):Ut=ut.sibling;var Ft=j(k,ut,P[It],Q);if(Ft===null){ut===null&&(ut=Ut);break}e&&ut&&Ft.alternate===null&&n(k,ut),D=f(Ft,D,It),Gt===null?ft=Ft:Gt.sibling=Ft,Gt=Ft,ut=Ut}if(It===P.length)return s(k,ut),Bt&&Gi(k,It),ft;if(ut===null){for(;It<P.length;It++)ut=Y(k,P[It],Q),ut!==null&&(D=f(ut,D,It),Gt===null?ft=ut:Gt.sibling=ut,Gt=ut);return Bt&&Gi(k,It),ft}for(ut=o(ut);It<P.length;It++)Ut=H(ut,k,It,P[It],Q),Ut!==null&&(e&&Ut.alternate!==null&&ut.delete(Ut.key===null?It:Ut.key),D=f(Ut,D,It),Gt===null?ft=Ut:Gt.sibling=Ut,Gt=Ut);return e&&ut.forEach(function(Ks){return n(k,Ks)}),Bt&&Gi(k,It),ft}function pt(k,D,P,Q){if(P==null)throw Error(a(151));for(var ft=null,Gt=null,ut=D,It=D=0,Ut=null,Ft=P.next();ut!==null&&!Ft.done;It++,Ft=P.next()){ut.index>It?(Ut=ut,ut=null):Ut=ut.sibling;var Ks=j(k,ut,Ft.value,Q);if(Ks===null){ut===null&&(ut=Ut);break}e&&ut&&Ks.alternate===null&&n(k,ut),D=f(Ks,D,It),Gt===null?ft=Ks:Gt.sibling=Ks,Gt=Ks,ut=Ut}if(Ft.done)return s(k,ut),Bt&&Gi(k,It),ft;if(ut===null){for(;!Ft.done;It++,Ft=P.next())Ft=Y(k,Ft.value,Q),Ft!==null&&(D=f(Ft,D,It),Gt===null?ft=Ft:Gt.sibling=Ft,Gt=Ft);return Bt&&Gi(k,It),ft}for(ut=o(ut);!Ft.done;It++,Ft=P.next())Ft=H(ut,k,It,Ft.value,Q),Ft!==null&&(e&&Ft.alternate!==null&&ut.delete(Ft.key===null?It:Ft.key),D=f(Ft,D,It),Gt===null?ft=Ft:Gt.sibling=Ft,Gt=Ft);return e&&ut.forEach(function(pb){return n(k,pb)}),Bt&&Gi(k,It),ft}function se(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case X:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===it){if(D.tag===7){s(k,D.sibling),Q=c(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Ur(ft)===D.type){s(k,D.sibling),Q=c(D,P.props),Go(Q,P),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===it?(Q=Dr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Ru(P.type,P.key,P.props,null,k.mode,Q),Go(Q,P),Q.return=k,k=Q)}return p(k);case Z:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=c(D,P.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Lh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case A:return P=Ur(P),se(k,D,P,Q)}if(pe(P))return lt(k,D,P,Q);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),pt(k,D,P,Q)}if(typeof P.then=="function")return se(k,D,Vu(P),Q);if(P.$$typeof===Et)return se(k,D,Nu(k,P),Q);Mu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=c(D,P),Q.return=k,k=Q):(s(k,D),Q=Uh(P,k.mode,Q),Q.return=k,k=Q),p(k)):s(k,D)}return function(k,D,P,Q){try{qo=0;var ft=se(k,D,P,Q);return Ia=null,ft}catch(ut){if(ut===Ca||ut===Du)throw ut;var Gt=bn(29,ut,null,k.mode);return Gt.lanes=Q,Gt.return=k,Gt}}}var Pr=Lp(!0),Pp=Lp(!1),xs=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=wu(e),Tp(e,null,s),n}return Su(e,o,n,s),wu(e)}function Fo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,_o(e,s)}}function $h(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Zh=!1;function Qo(){if(Zh){var e=Ra;if(e!==null)throw e}}function Ko(e,n,s,o){Zh=!1;var c=e.updateQueue;xs=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var Y=c.baseState;p=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(kt&j)===j:(o&j)===j){j!==0&&j===wa&&(Zh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;j=n;var se=s;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){Y=lt.call(se,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call(se,Y,j):lt,j==null)break t;Y=S({},Y,j);break t;case 2:xs=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,R=Y):F=F.next=H,p|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);F===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Ls|=p,e.lanes=p,e.memoizedState=Y}}function zp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function jp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zp(s[e],n)}var Na=O(null),ku=O(0);function Bp(e,n){e=es,et(ku,e),et(Na,n),es=e|n.baseLanes}function Wh(){et(ku,es),et(Na,Na.current)}function tf(){es=ku.current,K(Na),K(ku)}var An=O(null),zn=null;function Vs(e){var n=e.alternate;et(Te,Te.current&1),et(An,e),zn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(zn=e)}function ef(e){et(Te,Te.current),et(An,e),zn===null&&(zn=e)}function Hp(e){e.tag===22?(et(Te,Te.current),et(An,e),zn===null&&(zn=e)):Ms()}function Ms(){et(Te,Te.current),et(An,An.current)}function Sn(e){K(An),zn===e&&(zn=null),K(Te)}var Te=O(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ld(s)||ud(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,Ct=null,ne=null,Ne=null,Lu=!1,xa=!1,zr=!1,Pu=0,Yo=0,Da=null,r1=0;function ye(){throw Error(a(321))}function nf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tn(e[s],n[s]))return!1;return!0}function sf(e,n,s,o,c,f){return Ki=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?wg:vf,zr=!1,f=s(o,c),zr=!1,xa&&(f=Gp(n,s,o,c)),qp(e),f}function qp(e){G.H=$o;var n=ne!==null&&ne.next!==null;if(Ki=0,Ne=ne=Ct=null,Lu=!1,Yo=0,Da=null,n)throw Error(a(300));e===null||xe||(e=e.dependencies,e!==null&&Iu(e)&&(xe=!0))}function Gp(e,n,s,o){Ct=e;var c=0;do{if(xa&&(Da=null),Yo=0,xa=!1,25<=c)throw Error(a(301));if(c+=1,Ne=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Rg,f=n(s,o)}while(xa);return f}function a1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Xo(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(Ct.flags|=1024),n}function rf(){var e=Pu!==0;return Pu=0,e}function af(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function of(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Ki=0,Ne=ne=Ct=null,xa=!1,Yo=Pu=0,Da=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Ct.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function be(){if(ne===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Ne===null?Ct.memoizedState:Ne.next;if(n!==null)Ne=n,ne=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ne===null?Ct.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var n=Yo;return Yo+=1,Da===null&&(Da=[]),e=Mp(Da,e,n),n=Ct,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?wg:vf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===Et)return Qe(e)}throw Error(a(438,String(e)))}function lf(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Yi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=be();return uf(n,ne,e)}function uf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=p=null,R=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(kt&Y)===Y:(Ki&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===wa&&(F=!0);else if((Ki&j)===j){z=z.next,j===wa&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,p=f):R=R.next=Y,Ct.lanes|=j,Ls|=j;Y=z.action,zr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,p=f):R=R.next=j,Ct.lanes|=Y,Ls|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=E,!Tn(f,e.memoizedState)&&(xe=!0,F&&(s=Ra,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=be(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);Tn(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Fp(e,n,s){var o=Ct,c=be(),f=Bt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Tn((ne||c).memoizedState,s);if(p&&(c.memoizedState=s,xe=!0),c=c.queue,df(Yp.bind(null,o,c,e),[e]),c.getSnapshot!==n||p||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Kp.bind(null,o,c,s,n),null),ae===null)throw Error(a(349));f||(Ki&127)!==0||Qp(o,n,s)}return s}function Qp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=zu(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Kp(e,n,s,o){n.value=s,n.getSnapshot=o,Xp(n)&&Jp(e)}function Yp(e,n,s){return s(function(){Xp(n)&&Jp(e)})}function Xp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tn(e,s)}catch{return!0}}function Jp(e){var n=xr(e,2);n!==null&&gn(n,e,2)}function hf(e){var n=ln();if(typeof e=="function"){var s=e;if(e=s(),zr){Nn(!0);try{s()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function $p(e,n,s,o){return e.baseState=s,uf(e,ne,typeof o=="function"?o:Yi)}function o1(e,n,s,o,c){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Zp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Zp(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(c,o),R=G.S;R!==null&&R(p,E),Wp(e,n,E)}catch(z){ff(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(c,o),Wp(e,n,f)}catch(z){ff(e,n,z)}}function Wp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){tg(e,n,o)},function(o){return ff(e,n,o)}):tg(e,n,s)}function tg(e,n,s){n.status="fulfilled",n.value=s,eg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Zp(e,s)))}function ff(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,eg(n),n=n.next;while(n!==o)}e.action=null}function eg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ng(e,n){return n}function ig(e,n){if(Bt){var s=ae.formState;if(s!==null){t:{var o=Ct;if(Bt){if(ue){e:{for(var c=ue,f=Pn;c.nodeType!==8;){if(!f){c=null;break e}if(c=jn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ue=jn(c.nextSibling),o=c.data==="F!";break t}}Is(o)}o=!1}o&&(n=s[0])}}return s=ln(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},s.queue=o,s=bg.bind(null,Ct,o),o.dispatch=s,o=hf(!1),f=_f.bind(null,Ct,!1,o.queue),o=ln(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=o1.bind(null,Ct,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function sg(e){var n=be();return rg(n,ne,e)}function rg(e,n,s){if(n=uf(e,n,ng)[0],e=Bu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(p){throw p===Ca?Du:p}else o=n;n=be();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,Oa(9,{destroy:void 0},l1.bind(null,c,s),null)),[o,f,e]}function l1(e,n){e.action=n}function ag(e){var n=be(),s=ne;if(s!==null)return rg(n,s,e);be(),n=n.memoizedState,s=be();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Oa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=zu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function og(){return be().memoizedState}function Hu(e,n,s,o){var c=ln();Ct.flags|=e,c.memoizedState=Oa(1|n,{destroy:void 0},s,o===void 0?null:o)}function qu(e,n,s,o){var c=be();o=o===void 0?null:o;var f=c.memoizedState.inst;ne!==null&&o!==null&&nf(o,ne.memoizedState.deps)?c.memoizedState=Oa(n,f,s,o):(Ct.flags|=e,c.memoizedState=Oa(1|n,f,s,o))}function lg(e,n){Hu(8390656,8,e,n)}function df(e,n){qu(2048,8,e,n)}function u1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=zu(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ug(e){var n=be().memoizedState;return u1({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cg(e,n){return qu(4,2,e,n)}function hg(e,n){return qu(4,4,e,n)}function fg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dg(e,n,s){s=s!=null?s.concat([e]):null,qu(4,4,fg.bind(null,n,e),s)}function mf(){}function mg(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&nf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function pg(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&nf(n,o[1]))return o[0];if(o=e(),zr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,n],o}function pf(e,n,s){return s===void 0||(Ki&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=gy(),Ct.lanes|=e,Ls|=e,s)}function gg(e,n,s,o){return Tn(s,n)?s:Na.current!==null?(e=pf(e,s,o),Tn(e,n)||(xe=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(kt&261930)===0?(xe=!0,e.memoizedState=s):(e=gy(),Ct.lanes|=e,Ls|=e,n)}function yg(e,n,s,o,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,_f(e,!1,n,s);try{var R=c(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=s1(R,o);Jo(e,n,F,Cn(e))}else Jo(e,n,o,Cn(e))}catch(Y){Jo(e,n,{then:function(){},status:"rejected",reason:Y},Cn())}finally{tt.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function c1(){}function gf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var c=_g(e).queue;yg(e,c,n,ht,s===null?c1:function(){return vg(e),s(o)})}function _g(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vg(e){var n=_g(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},Cn())}function yf(){return Qe(dl)}function Eg(){return be().memoizedState}function Tg(){return be().memoizedState}function h1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Cn();e=Ds(s);var o=Os(n,e,s);o!==null&&(gn(o,n,s),Fo(o,n,s)),n={cache:Fh()},e.payload=n;return}n=n.return}}function f1(e,n,s){var o=Cn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Ag(n,s):(s=Mh(e,n,s,o),s!==null&&(gn(s,e,o),Sg(s,n,o)))}function bg(e,n,s){var o=Cn();Jo(e,n,s,o)}function Jo(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Ag(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(c.hasEagerState=!0,c.eagerState=E,Tn(E,p))return Su(e,n,c,0),ae===null&&Au(),!1}catch{}if(s=Mh(e,n,c,o),s!==null)return gn(s,e,o),Sg(s,n,o),!0}return!1}function _f(e,n,s,o){if(o={lane:2,revertLane:Jf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Mh(e,s,o,2),n!==null&&gn(n,e,2)}function Gu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Ag(e,n){xa=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Sg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,_o(e,s)}}var $o={readContext:Qe,use:ju,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};$o.useEffectEvent=ye;var wg={readContext:Qe,use:ju,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:lg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Hu(4194308,4,fg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hu(4194308,4,e,n)},useInsertionEffect:function(e,n){Hu(4,2,e,n)},useMemo:function(e,n){var s=ln();n=n===void 0?null:n;var o=e();if(zr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=ln();if(s!==void 0){var c=s(n);if(zr){Nn(!0);try{s(n)}finally{Nn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=f1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,s=bg.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:mf,useDeferredValue:function(e,n){var s=ln();return pf(s,e,n)},useTransition:function(){var e=hf(!1);return e=yg.bind(null,Ct,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ct,c=ln();if(Bt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(kt&127)!==0||Qp(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,lg(Yp.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},Kp.bind(null,o,f,s,n),null),s},useId:function(){var e=ln(),n=ae.identifierPrefix;if(Bt){var s=Ri,o=wi;s=(o&~(1<<32-ve(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=r1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:ig,useActionState:ig,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=_f.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return ln().memoizedState=h1.bind(null,Ct)},useEffectEvent:function(e){var n=ln(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},vf={readContext:Qe,use:ju,useCallback:mg,useContext:Qe,useEffect:df,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:pg,useReducer:Bu,useRef:og,useState:function(){return Bu(Yi)},useDebugValue:mf,useDeferredValue:function(e,n){var s=be();return gg(s,ne.memoizedState,e,n)},useTransition:function(){var e=Bu(Yi)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:Fp,useId:Eg,useHostTransitionStatus:yf,useFormState:sg,useActionState:sg,useOptimistic:function(e,n){var s=be();return $p(s,ne,e,n)},useMemoCache:lf,useCacheRefresh:Tg};vf.useEffectEvent=ug;var Rg={readContext:Qe,use:ju,useCallback:mg,useContext:Qe,useEffect:df,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:pg,useReducer:cf,useRef:og,useState:function(){return cf(Yi)},useDebugValue:mf,useDeferredValue:function(e,n){var s=be();return ne===null?pf(s,e,n):gg(s,ne.memoizedState,e,n)},useTransition:function(){var e=cf(Yi)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:Fp,useId:Eg,useHostTransitionStatus:yf,useFormState:ag,useActionState:ag,useOptimistic:function(e,n){var s=be();return ne!==null?$p(s,ne,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Tg};Rg.useEffectEvent=ug;function Ef(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Cn(),c=Ds(o);c.payload=n,s!=null&&(c.callback=s),n=Os(e,c,o),n!==null&&(gn(n,e,o),Fo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Cn(),c=Ds(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Os(e,c,o),n!==null&&(gn(n,e,o),Fo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Cn(),o=Ds(s);o.tag=2,n!=null&&(o.callback=n),n=Os(e,o,s),n!==null&&(gn(n,e,s),Fo(n,e,s))}};function Cg(e,n,s,o,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Lo(s,o)||!Lo(c,f):!0}function Ig(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Tf.enqueueReplaceState(n,n.state,null)}function jr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Ng(e){bu(e)}function xg(e){console.error(e)}function Dg(e){bu(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Og(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bf(e,n,s){return s=Ds(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function Vg(e){return e=Ds(e),e.tag=3,e}function Mg(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Og(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Og(n,s,o),typeof c!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function d1(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Sa(n,s,c,!0),s=An.current,s!==null){switch(s.tag){case 31:case 13:return zn===null?ic():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Kf(e,o,c)),!1;case 22:return s.flags|=65536,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Kf(e,o,c)),!1}throw Error(a(435,s.tag))}return Kf(e,o,c),ic(),!1}if(Bt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==jh&&(e=Error(a(422),{cause:o}),jo(kn(e,s)))):(o!==jh&&(n=Error(a(423),{cause:o}),jo(kn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=kn(o,s),c=bf(e.stateNode,o,c),$h(e,c),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,s),rl===null?rl=[f]:rl.push(f),_e!==4&&(_e=2),n===null)return!0;o=kn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=bf(s.stateNode,o,e),$h(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Vg(c),Mg(c,e,s,o),$h(s,c),!1}s=s.return}while(s!==null);return!1}var Af=Error(a(461)),xe=!1;function Ke(e,n,s,o){n.child=e===null?Pp(n,null,s,o):Pr(n,e.child,s,o)}function kg(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Mr(n),o=sf(e,n,s,p,f,c),E=rf(),e!==null&&!xe?(af(e,n,c),Xi(e,n,c)):(Bt&&E&&Ph(n),n.flags|=1,Ke(e,n,o,c),n.child)}function Ug(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!kh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Lg(e,n,f,o,c)):(e=Ru(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Df(e,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Lo,s(p,o)&&e.ref===n.ref)return Xi(e,n,c)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Lg(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(xe=!1,n.pendingProps=o=f,Df(e,c))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,Xi(e,n,c)}return Sf(e,n,s,o,c)}function Pg(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return zg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?Bp(n,f):Wh(),Hp(n);else return o=n.lanes=536870912,zg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(xu(n,f.cachePool),Bp(n,f),Ms(),n.memoizedState=null):(e!==null&&xu(n,null),Wh(),Ms());return Ke(e,n,c,s),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(e,n,s,o,c){var f=Kh();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&xu(n,null),Wh(),Hp(n),e!==null&&Sa(e,n,o,!0),n.childLanes=c,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jg(e,n,s){return Pr(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,Sn(n),n.memoizedState=null,e}function m1(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,Zo(null,e);if(ef(n),(e=ue)?(e=Zy(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Ap(e),s.return=n,n.child=s,Fe=n,ue=null)):e=null,e===null)throw Is(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ef(n),c)if(n.flags&256)n.flags&=-257,n=jg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(xe||Sa(e,n,s,!1),c=(s&e.childLanes)!==0,xe||c){if(o=ae,o!==null&&(p=vo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,xr(e,p),gn(o,e,p),Af;ic(),n=jg(e,n,s)}else e=f.treeContext,ue=jn(p.nextSibling),Fe=n,Bt=!0,Cs=null,Pn=!1,e!==null&&Rp(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Sf(e,n,s,o,c){return Mr(n),s=sf(e,n,s,o,void 0,c),o=rf(),e!==null&&!xe?(af(e,n,c),Xi(e,n,c)):(Bt&&o&&Ph(n),n.flags|=1,Ke(e,n,s,c),n.child)}function Bg(e,n,s,o,c,f){return Mr(n),n.updateQueue=null,s=Gp(n,o,s,c),qp(e),o=rf(),e!==null&&!xe?(af(e,n,f),Xi(e,n,f)):(Bt&&o&&Ph(n),n.flags|=1,Ke(e,n,s,f),n.child)}function Hg(e,n,s,o,c){if(Mr(n),n.stateNode===null){var f=Ea,p=s.contextType;typeof p=="object"&&p!==null&&(f=Qe(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Qe(p):Ea,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Ef(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Tf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,c),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=jr(s,E);f.props=R;var z=f.context,F=s.contextType;p=Ea,typeof F=="object"&&F!==null&&(p=Qe(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Ig(n,f,o,p),xs=!1;var j=n.memoizedState;f.state=j,Ko(n,o,f,c),Qo(),z=n.memoizedState,E||j!==z||xs?(typeof Y=="function"&&(Ef(n,s,Y,o),z=n.memoizedState),(R=xs||Cg(n,s,R,o,j,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Jh(e,n),p=n.memoizedProps,F=jr(s,p),f.props=F,Y=n.pendingProps,j=f.context,z=s.contextType,R=Ea,typeof z=="object"&&z!==null&&(R=Qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||j!==R)&&Ig(n,f,o,R),xs=!1,j=n.memoizedState,f.state=j,Ko(n,o,f,c),Qo();var H=n.memoizedState;p!==Y||j!==H||xs||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Ef(n,s,E,o),H=n.memoizedState),(F=xs||Cg(n,s,F,o,j,H,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Pr(n,e.child,null,c),n.child=Pr(n,null,s,c)):Ke(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Xi(e,n,c),e}function qg(e,n,s,o){return Or(),n.flags|=256,Ke(e,n,s,o),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Op()}}function Cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Rn),e}function Gg(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(c?Vs(n):Ms(),(e=ue)?(e=Zy(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Ap(e),s.return=n,n.child=s,Fe=n,ue=null)):e=null,e===null)throw Is(n);return ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Ms(),c=n.mode,E=Yu({mode:"hidden",children:E},c),o=Dr(o,c,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(s),o.childLanes=Cf(e,p,s),n.memoizedState=wf,Zo(null,o)):(Vs(n),If(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Vs(n),n.flags&=-257,n=Nf(e,n,s)):n.memoizedState!==null?(Ms(),n.child=e.child,n.flags|=128,n=null):(Ms(),E=o.fallback,c=n.mode,o=Yu({mode:"visible",children:o.children},c),E=Dr(E,c,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Pr(n,e.child,null,s),o=n.child,o.memoizedState=Rf(s),o.childLanes=Cf(e,p,s),n.memoizedState=wf,n=Zo(null,o));else if(Vs(n),ud(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,jo({value:o,source:null,stack:null}),n=Nf(e,n,s)}else if(xe||Sa(e,n,s,!1),p=(s&e.childLanes)!==0,xe||p){if(p=ae,p!==null&&(o=vo(p,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,xr(e,o),gn(p,e,o),Af;ld(E)||ic(),n=Nf(e,n,s)}else ld(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ue=jn(E.nextSibling),Fe=n,Bt=!0,Cs=null,Pn=!1,e!==null&&Rp(n,e),n=If(n,o.children),n.flags|=4096);return n}return c?(Ms(),E=o.fallback,c=n.mode,R=e.child,z=R.sibling,o=qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=qi(z,E):(E=Dr(E,c,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(s):(c=E.cachePool,c!==null?(R=Ie._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Op(),E={baseLanes:E.baseLanes|s,cachePool:c}),o.memoizedState=E,o.childLanes=Cf(e,p,s),n.memoizedState=wf,Zo(e.child,o)):(Vs(n),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function If(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=bn(22,e,null,n),e.lanes=0,e}function Nf(e,n,s){return Pr(n,e.child,null,s),e=If(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),qh(e.return,n,s)}function xf(e,n,s,o,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function Qg(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var p=Te.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,et(Te,p),Ke(e,n,o,s),o=Bt?zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fg(e,s,n);else if(e.tag===19)Fg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),xf(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Uu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}xf(n,!0,s,null,f,o);break;case"together":xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ls|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Sa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function p1(e,n,s){switch(n.tag){case 3:re(n,n.stateNode.containerInfo),Ns(n,Ie,e.memoizedState.cache),Or();break;case 27:case 5:He(n);break;case 4:re(n,n.stateNode.containerInfo);break;case 10:Ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Gg(e,n,s):(Vs(n),e=Xi(e,n,s),e!==null?e.sibling:null);Vs(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Sa(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return Qg(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Te,Te.current),o)break;return null;case 22:return n.lanes=0,Pg(e,n,s,n.pendingProps);case 24:Ns(n,Ie,e.memoizedState.cache)}return Xi(e,n,s)}function Kg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!Df(e,s)&&(n.flags&128)===0)return xe=!1,p1(e,n,s);xe=(e.flags&131072)!==0}else xe=!1,Bt&&(n.flags&1048576)!==0&&wp(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")kh(e)?(o=jr(e,o),n.tag=1,n=Hg(null,n,e,o,s)):(n.tag=0,n=Sf(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===jt){n.tag=11,n=kg(null,n,e,o,s);break t}else if(c===N){n.tag=14,n=Ug(null,n,e,o,s);break t}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=jr(o,n.pendingProps),Hg(e,n,o,c,s);case 3:t:{if(re(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Jh(e,n),Ko(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Ns(n,Ie,o),o!==f.cache&&Gh(n,[Ie],s,!0),Qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qg(e,n,o,s);break t}else if(o!==c){c=kn(Error(a(424)),n),jo(c),n=qg(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ue=jn(e.firstChild),Fe=n,Bt=!0,Cs=null,Pn=!0,s=Pp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Or(),o===c){n=Xi(e,n,s);break t}Ke(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=s_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,e=n.pendingProps,o=cc(wt.current).createElement(s),o[we]=n,o[Pe]=e,Ye(o,s,e),Re(o),n.stateNode=o):n.memoizedState=s_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return He(n),e===null&&Bt&&(o=n.stateNode=e_(n.type,n.pendingProps,wt.current),Fe=n,Pn=!0,c=ue,Hs(n.type)?(cd=c,ue=jn(o.firstChild)):ue=c),Ke(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((c=o=ue)&&(o=F1(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,Fe=n,ue=jn(o.firstChild),Pn=!1,c=!0):c=!1),c||Is(n)),He(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,rd(c,f)?o=null:p!==null&&rd(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=sf(e,n,a1,null,null,s),dl._currentValue=c),Ku(e,n),Ke(e,n,o,s),n.child;case 6:return e===null&&Bt&&((e=s=ue)&&(s=Q1(s,n.pendingProps,Pn),s!==null?(n.stateNode=s,Fe=n,ue=null,e=!0):e=!1),e||Is(n)),null;case 13:return Gg(e,n,s);case 4:return re(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Pr(n,null,o,s):Ke(e,n,o,s),n.child;case 11:return kg(e,n,n.type,n.pendingProps,s);case 7:return Ke(e,n,n.pendingProps,s),n.child;case 8:return Ke(e,n,n.pendingProps.children,s),n.child;case 12:return Ke(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ns(n,n.type,o.value),Ke(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Mr(n),c=Qe(c),o=o(c),n.flags|=1,Ke(e,n,o,s),n.child;case 14:return Ug(e,n,n.type,n.pendingProps,s);case 15:return Lg(e,n,n.type,n.pendingProps,s);case 19:return Qg(e,n,s);case 31:return m1(e,n,s);case 22:return Pg(e,n,s,n.pendingProps);case 24:return Mr(n),o=Qe(Ie),e===null?(c=Kh(),c===null&&(c=ae,f=Fh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Xh(n),Ns(n,Ie,c)):((e.lanes&s)!==0&&(Jh(e,n),Ko(n,null,null,s),Qo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ns(n,Ie,o)):(o=f.cache,Ns(n,Ie,o),o!==c.cache&&Gh(n,[Ie],s,!0))),Ke(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ji(e){e.flags|=4}function Of(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw Lr=Ou,Yh}else e.flags&=-16777217}function Yg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw Lr=Ou,Yh}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ua|=n)}function Wo(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function g1(e,n,s){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qi(Ie),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),ce(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Ji(n),f!==null?(ce(n),Yg(n,f)):(ce(n),Of(n,c,null,o,s))):f?f!==e.memoizedState?(Ji(n),ce(n),Yg(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ji(n),ce(n),Of(n,c,e,o,s)),null;case 27:if(ms(n),s=wt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}e=rt.current,Aa(n)?Cp(n):(e=e_(c,o,s),n.stateNode=e,Ji(n))}return ce(n),null;case 5:if(ms(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}if(f=rt.current,Aa(n))Cp(n);else{var p=cc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(c,{is:o.is}):p.createElement(c)}}f[we]=n,f[Pe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ye(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ji(n)}}return ce(n),Of(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,Aa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=Fe,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[we]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,s)),e||Is(n,!0)}else e=cc(e).createTextNode(o),e[we]=n,n.stateNode=e}return ce(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[we]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else s=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ce(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),c=!1}else c=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),ce(n),null);case 4:return oe(),e===null&&td(n.stateNode.containerInfo),ce(n),null;case 10:return Qi(n.type),ce(n),null;case 19:if(K(Te),o=n.memoizedState,o===null)return ce(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Wo(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Wo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)bp(s,e),s=s.sibling;return et(Te,Te.current&1|2),Bt&&Gi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Nt()>tc&&(n.flags|=128,c=!0,Wo(o,!1),n.lanes=4194304)}else{if(!c)if(e=Uu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return ce(n),null}else 2*Nt()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,c=!0,Wo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Nt(),e.sibling=null,s=Te.current,et(Te,c?s&1|2:s&1),Bt&&Gi(n,o.treeForkCount),e):(ce(n),null);case 22:case 23:return Sn(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(kr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qi(Ie),ce(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function y1(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(Ie),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ms(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Te),null;case 4:return oe(),null;case 10:return Qi(n.type),null;case 22:case 23:return Sn(n),tf(),e!==null&&K(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(Ie),null;case 25:return null;default:return null}}function Xg(e,n){switch(zh(n),n.tag){case 3:Qi(Ie),oe();break;case 26:case 27:case 5:ms(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:K(Te);break;case 10:Qi(n.type);break;case 22:case 23:Sn(n),tf(),e!==null&&K(kr);break;case 24:Qi(Ie)}}function tl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==c)}}catch(E){Zt(n,n.return,E)}}function ks(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var R=s,z=E;try{z()}catch(F){Zt(c,R,F)}}}o=o.next}while(o!==f)}}catch(F){Zt(n,n.return,F)}}function Jg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{jp(n,s)}catch(o){Zt(e,e.return,o)}}}function $g(e,n,s){s.props=jr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Zt(e,n,o)}}function el(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){Zt(e,n,c)}}function Ci(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Zt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Zt(e,n,c)}else s.current=null}function Zg(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Zt(e,e.return,c)}}function Vf(e,n,s){try{var o=e.stateNode;z1(o,e.type,s,n),o[Pe]=n}catch(c){Zt(e,e.return,c)}}function Wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hs(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(o!==4&&(o===27&&Hs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(kf(e,n,s),e=e.sibling;e!==null;)kf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Hs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function ty(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ye(n,o,s),n[we]=e,n[Pe]=s}catch(f){Zt(e,e.return,f)}}var $i=!1,De=!1,Uf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,je=null;function _1(e,n){if(e=e.containerInfo,id=yc,e=dp(e),Ih(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,R=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||o!==0&&Y.nodeType!==3||(R=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++z===c&&(E=p),j===f&&++F===o&&(R=p),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},yc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=jr(s.type,c);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Zt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function ny(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(e,s),o&4&&tl(5,s);break;case 1:if(Wi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Zt(s,s.return,p)}else{var c=jr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Zt(s,s.return,p)}}o&64&&Jg(s),o&512&&el(s,s.return);break;case 3:if(Wi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{jp(e,n)}catch(p){Zt(s,s.return,p)}}break;case 27:n===null&&o&4&&ty(s);case 26:case 5:Wi(e,s),n===null&&o&4&&Zg(s),o&512&&el(s,s.return);break;case 12:Wi(e,s);break;case 31:Wi(e,s),o&4&&ry(e,s);break;case 13:Wi(e,s),o&4&&ay(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=C1.bind(null,s),K1(e,s))));break;case 22:if(o=s.memoizedState!==null||$i,!o){n=n!==null&&n.memoizedState!==null||De,c=$i;var f=De;$i=o,(De=n)&&!f?ts(e,s,(s.subtreeFlags&8772)!==0):Wi(e,s),$i=c,De=f}break;case 30:break;default:Wi(e,s)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,fn=!1;function Zi(e,n,s){for(s=s.child;s!==null;)sy(e,n,s),s=s.sibling}function sy(e,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:De||Ci(s,n),Zi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:De||Ci(s,n);var o=de,c=fn;Hs(s.type)&&(de=s.stateNode,fn=!1),Zi(e,n,s),cl(s.stateNode),de=o,fn=c;break;case 5:De||Ci(s,n);case 6:if(o=de,c=fn,de=null,Zi(e,n,s),de=o,fn=c,de!==null)if(fn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(f){Zt(s,n,f)}else try{de.removeChild(s.stateNode)}catch(f){Zt(s,n,f)}break;case 18:de!==null&&(fn?(e=de,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ga(e)):Jy(de,s.stateNode));break;case 4:o=de,c=fn,de=s.stateNode.containerInfo,fn=!0,Zi(e,n,s),de=o,fn=c;break;case 0:case 11:case 14:case 15:ks(2,s,n),De||ks(4,s,n),Zi(e,n,s);break;case 1:De||(Ci(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&$g(s,n,o)),Zi(e,n,s);break;case 21:Zi(e,n,s);break;case 22:De=(o=De)||s.memoizedState!==null,Zi(e,n,s),De=o;break;default:Zi(e,n,s)}}function ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(s){Zt(n,n.return,s)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(s){Zt(n,n.return,s)}}function v1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function $u(e,n){var s=v1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=I1.bind(null,e,o);o.then(c,c)}})}function dn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Hs(E.type)){de=E.stateNode,fn=!1;break t}break;case 5:de=E.stateNode,fn=!1;break t;case 3:case 4:de=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(de===null)throw Error(a(160));sy(f,p,c),de=null,fn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var ni=null;function oy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),o&4&&(ks(3,e,e.return),tl(3,e),ks(5,e,e.return));break;case 1:dn(n,e),mn(e),o&512&&(De||s===null||Ci(s,s.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=ni;if(dn(n,e),mn(e),o&512&&(De||s===null||Ci(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[di]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Ye(f,o,s),f[we]=e,Re(f),o=f;break t;case"link":var p=o_("link","href",c).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(o),Ye(f,o,s),c.head.appendChild(f);break;case"meta":if(p=o_("meta","content",c).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=c.createElement(o),Ye(f,o,s),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[we]=e,Re(f),o=f}e.stateNode=o}else l_(c,e.type,e.stateNode);else e.stateNode=a_(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?l_(c,e.type,e.stateNode):a_(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,s.memoizedProps)}break;case 27:dn(n,e),mn(e),o&512&&(De||s===null||Ci(s,s.return)),s!==null&&o&4&&Vf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(dn(n,e),mn(e),o&512&&(De||s===null||Ci(s,s.return)),e.flags&32){c=e.stateNode;try{hn(c,"")}catch(lt){Zt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Vf(e,c,s!==null?s.memoizedProps:c)),o&1024&&(Uf=!0);break;case 6:if(dn(n,e),mn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){Zt(e,e.return,lt)}}break;case 3:if(dc=null,c=ni,ni=hc(n.containerInfo),dn(n,e),ni=c,mn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(lt){Zt(e,e.return,lt)}Uf&&(Uf=!1,ly(e));break;case 4:o=ni,ni=hc(e.stateNode.containerInfo),dn(n,e),mn(e),ni=o;break;case 12:dn(n,e),mn(e);break;case 31:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=Nt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:c=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=$i,F=De;if($i=z||c,De=F||R,dn(n,e),De=F,$i=z,mn(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||$i||De||Br(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Zt(R,R.return,lt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(lt){Zt(R,R.return,lt)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;c?$y(H,!0):$y(R.stateNode,!1)}catch(lt){Zt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,$u(e,s))));break;case 19:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Wg(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Mf(e);Ju(e,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(hn(p,""),s.flags&=-33);var E=Mf(e);Ju(e,E,p);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Mf(e);kf(e,z,R);break;default:throw Error(a(161))}}catch(F){Zt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ks(4,n,n.return),Br(n);break;case 1:Ci(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&$g(n,n.return,s),Br(n);break;case 27:cl(n.stateNode);case 26:case 5:Ci(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function ts(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ts(c,f,s),tl(4,f);break;case 1:if(ts(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(o,o.return,z)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)zp(R[c],E)}catch(z){Zt(o,o.return,z)}}s&&p&64&&Jg(f),el(f,f.return);break;case 27:ty(f);case 26:case 5:ts(c,f,s),s&&o===null&&p&4&&Zg(f),el(f,f.return);break;case 12:ts(c,f,s);break;case 31:ts(c,f,s),s&&p&4&&ry(c,f);break;case 13:ts(c,f,s),s&&p&4&&ay(c,f);break;case 22:f.memoizedState===null&&ts(c,f,s),el(f,f.return);break;case 30:break;default:ts(c,f,s)}n=n.sibling}}function Lf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Bo(s))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function ii(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,s,o),n=n.sibling}function uy(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,o),c&2048&&tl(9,n);break;case 1:ii(e,n,s,o);break;case 3:ii(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(c&2048){ii(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else ii(e,n,s,o);break;case 31:ii(e,n,s,o);break;case 13:ii(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,o):nl(e,n):f._visibility&2?ii(e,n,s,o):(f._visibility|=2,Va(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Lf(p,n);break;case 24:ii(e,n,s,o),c&2048&&Pf(n.alternate,n);break;default:ii(e,n,s,o)}}function Va(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Va(f,p,E,R,c),tl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Va(f,p,E,R,c):nl(f,p):(F._visibility|=2,Va(f,p,E,R,c)),c&&z&2048&&Lf(p.alternate,p);break;case 24:Va(f,p,E,R,c),c&&z&2048&&Pf(p.alternate,p);break;default:Va(f,p,E,R,c)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:nl(s,o),c&2048&&Lf(o.alternate,o);break;case 24:nl(s,o),c&2048&&Pf(o.alternate,o);break;default:nl(s,o)}n=n.sibling}}var il=8192;function Ma(e,n,s){if(e.subtreeFlags&il)for(e=e.child;e!==null;)cy(e,n,s),e=e.sibling}function cy(e,n,s){switch(e.tag){case 26:Ma(e,n,s),e.flags&il&&e.memoizedState!==null&&rb(s,ni,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,s);break;case 3:case 4:var o=ni;ni=hc(e.stateNode.containerInfo),Ma(e,n,s),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=il,il=16777216,Ma(e,n,s),il=o):Ma(e,n,s));break;default:Ma(e,n,s)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&ks(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):sl(e);break;default:sl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ks(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function dy(e,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:ks(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,je=o;else t:for(s=e;je!==null;){o=je;var c=o.sibling,f=o.return;if(iy(o),o===s){je=null;break t}if(c!==null){c.return=f,je=c;break t}je=f}}}var E1={getCacheForType:function(e){var n=Qe(Ie),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Qe(Ie).controller.signal}},T1=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ae=null,xt=null,kt=0,$t=0,wn=null,Us=!1,ka=!1,zf=!1,es=0,_e=0,Ls=0,Hr=0,jf=0,Rn=0,Ua=0,rl=null,pn=null,Bf=!1,Wu=0,my=0,tc=1/0,ec=null,Ps=null,ke=0,zs=null,La=null,ns=0,Hf=0,qf=null,py=null,al=0,Gf=null;function Cn(){return(Yt&2)!==0&&kt!==0?kt&-kt:G.T!==null?Jf():nu()}function gy(){if(Rn===0)if((kt&536870912)===0||Bt){var e=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Rn=e}else Rn=536870912;return e=An.current,e!==null&&(e.flags|=32),Rn}function gn(e,n,s){(e===ae&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),js(e,kt,Rn,!1)),gr(e,s),((Yt&2)===0||e!==ae)&&(e===ae&&((Yt&2)===0&&(Hr|=s),_e===4&&js(e,kt,Rn,!1)),Ii(e))}function yy(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),c=o?S1(e,n):Qf(e,n,!0),f=o;do{if(c===0){ka&&!o&&js(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!b1(s)){c=Qf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;c=rl;var R=E.current.memoizedState.isDehydrated;if(R&&(Pa(E,p).flags|=256),p=Qf(E,p,!1),p!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=f,Hr|=f,c=4;break t}f=pn,pn=c,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Pa(e,0),js(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:js(o,n,Rn,!Us);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Wu+300-Nt(),10<c)){if(js(o,n,Rn,!Us),ci(o,0,!0)!==0)break t;ns=n,o.timeoutHandle=Yy(_y.bind(null,o,s,pn,ec,Bf,n,Rn,Hr,Ua,Us,f,"Throttled",-0,0),c);break t}_y(o,s,pn,ec,Bf,n,Rn,Hr,Ua,Us,f,null,-0,0)}}break}while(!0);Ii(e)}function _y(e,n,s,o,c,f,p,E,R,z,F,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},cy(n,f,Y);var lt=(f&62914560)===f?Wu-Nt():(f&4194048)===f?my-Nt():0;if(lt=ab(Y,lt),lt!==null){ns=f,e.cancelPendingCommit=lt(Ry.bind(null,e,n,f,s,o,c,p,E,R,F,Y,null,j,H)),js(e,f,p,!z);return}}Ry(e,n,f,s,o,c,p,E,R)}function b1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!Tn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(e,n,s,o){n&=~jf,n&=~Hr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ve(c),p=1<<f;o[f]=-1,c&=~p}s!==0&&yr(e,s,n)}function nc(){return(Yt&6)===0?(ol(0),!1):!0}function Ff(){if(xt!==null){if($t===0)var e=xt.return;else e=xt,Fi=Vr=null,of(e),Ia=null,qo=0,e=xt;for(;e!==null;)Xg(e.alternate,e),e=e.return;xt=null}}function Pa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,H1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ns=0,Ff(),ae=e,xt=s=qi(e.current,null),kt=n,$t=0,wn=null,Us=!1,ka=Kn(e,n),zf=!1,Ua=Rn=jf=Hr=Ls=_e=0,pn=rl=null,Bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ve(o),f=1<<c;n|=e[c],o&=~f}return es=n,Au(),s}function vy(e,n){Ct=null,G.H=$o,n===Ca||n===Du?(n=kp(),$t=3):n===Yh?(n=kp(),$t=4):$t=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,xt===null&&(_e=1,Fu(e,kn(n,e.current)))}function Ey(){var e=An.current;return e===null?!0:(kt&4194048)===kt?zn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===zn:!1}function Ty(){var e=G.H;return G.H=$o,e===null?$o:e}function by(){var e=G.A;return G.A=E1,e}function ic(){_e=4,Us||(kt&4194048)!==kt&&An.current!==null||(ka=!0),(Ls&134217727)===0&&(Hr&134217727)===0||ae===null||js(ae,kt,Rn,!1)}function Qf(e,n,s){var o=Yt;Yt|=2;var c=Ty(),f=by();(ae!==e||kt!==n)&&(ec=null,Pa(e,n)),n=!1;var p=_e;t:do try{if($t!==0&&xt!==null){var E=xt,R=wn;switch($t){case 8:Ff(),p=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=$t;if($t=0,wn=null,za(e,E,R,z),s&&ka){p=0;break t}break;default:z=$t,$t=0,wn=null,za(e,E,R,z)}}A1(),p=_e;break}catch(F){vy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Fi=Vr=null,Yt=o,G.H=c,G.A=f,xt===null&&(ae=null,kt=0,Au()),p}function A1(){for(;xt!==null;)Ay(xt)}function S1(e,n){var s=Yt;Yt|=2;var o=Ty(),c=by();ae!==e||kt!==n?(ec=null,tc=Nt()+500,Pa(e,n)):ka=Kn(e,n);t:do try{if($t!==0&&xt!==null){n=xt;var f=wn;e:switch($t){case 1:$t=0,wn=null,za(e,n,f,1);break;case 2:case 9:if(Vp(f)){$t=0,wn=null,Sy(n);break}n=function(){$t!==2&&$t!==9||ae!==e||($t=7),Ii(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Vp(f)?($t=0,wn=null,Sy(n)):($t=0,wn=null,za(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?u_(p):E.stateNode.complete){$t=0,wn=null;var R=E.sibling;if(R!==null)xt=R;else{var z=E.return;z!==null?(xt=z,sc(z)):xt=null}break e}}$t=0,wn=null,za(e,n,f,5);break;case 6:$t=0,wn=null,za(e,n,f,6);break;case 8:Ff(),_e=6;break t;default:throw Error(a(462))}}w1();break}catch(F){vy(e,F)}while(!0);return Fi=Vr=null,G.H=o,G.A=c,Yt=s,xt!==null?0:(ae=null,kt=0,Au(),_e)}function w1(){for(;xt!==null&&!st();)Ay(xt)}function Ay(e){var n=Kg(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?sc(e):xt=n}function Sy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Bg(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Bg(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:of(n);default:Xg(s,n),n=xt=bp(n,es),n=Kg(s,n,es)}e.memoizedProps=e.pendingProps,n===null?sc(e):xt=n}function za(e,n,s,o){Fi=Vr=null,of(n),Ia=null,qo=0;var c=n.return;try{if(d1(e,c,n,s,kt)){_e=1,Fu(e,kn(s,e.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;_e=1,Fu(e,kn(s,e.current)),xt=null;return}n.flags&32768?(Bt||o===1?e=!0:ka||(kt&536870912)!==0?e=!1:(Us=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){wy(n,Us);return}e=n.return;var s=g1(n.alternate,n,es);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);_e===0&&(_e=5)}function wy(e,n){do{var s=y1(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);_e=6,xt=null}function Ry(e,n,s,o,c,f,p,E,R){e.cancelPendingCommit=null;do rc();while(ke!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vh,Sh(e,s,f,p,E,R),e===ae&&(xt=ae=null,kt=0),La=n,zs=e,ns=s,Hf=f,qf=c,py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,N1(an,function(){return Dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,c=tt.p,tt.p=2,p=Yt,Yt|=4;try{_1(e,n,s)}finally{Yt=p,tt.p=c,G.T=o}}ke=1,Cy(),Iy(),Ny()}}function Cy(){if(ke===1){ke=0;var e=zs,n=La,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=tt.p;tt.p=2;var c=Yt;Yt|=4;try{oy(n,e);var f=sd,p=dp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&fp(E.ownerDocument.documentElement,E)){if(R!==null&&Ih(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),lt=E.textContent.length,pt=Math.min(R.start,lt),se=R.end===void 0?pt:Math.min(R.end,lt);!H.extend&&pt>se&&(p=se,se=pt,pt=p);var k=hp(E,pt),D=hp(E,se);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),pt>se?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yc=!!id,sd=id=null}finally{Yt=c,tt.p=o,G.T=s}}e.current=n,ke=2}}function Iy(){if(ke===2){ke=0;var e=zs,n=La,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=tt.p;tt.p=2;var c=Yt;Yt|=4;try{ny(e,n.alternate,n)}finally{Yt=c,tt.p=o,G.T=s}}ke=3}}function Ny(){if(ke===4||ke===3){ke=0,bt();var e=zs,n=La,s=ns,o=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,La=zs=null,xy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ps=null),zi(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,c=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,tt.p=c}}(ns&3)!==0&&rc(),Ii(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Gf?al++:(al=0,Gf=e):al=0,ol(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function rc(){return Cy(),Iy(),Ny(),Dy()}function Dy(){if(ke!==5)return!1;var e=zs,n=Hf;Hf=0;var s=zi(ns),o=G.T,c=tt.p;try{tt.p=32>s?32:s,G.T=null,s=qf,qf=null;var f=zs,p=ns;if(ke=0,La=zs=null,ns=0,(Yt&6)!==0)throw Error(a(331));var E=Yt;if(Yt|=4,fy(f.current),uy(f,f.current,p,s),Yt=E,ol(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{tt.p=c,G.T=o,xy(e,n)}}function Oy(e,n,s){n=kn(s,n),n=bf(e.stateNode,n,2),e=Os(e,n,2),e!==null&&(gr(e,2),Ii(e))}function Zt(e,n,s){if(e.tag===3)Oy(e,e,s);else for(;n!==null;){if(n.tag===3){Oy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){e=kn(s,e),s=Vg(2),o=Os(n,s,2),o!==null&&(Mg(s,o,n,e),gr(o,2),Ii(o));break}}n=n.return}}function Kf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new T1;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(zf=!0,c.add(s),e=R1.bind(null,e,n,s),n.then(e,e))}function R1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ae===e&&(kt&s)===s&&(_e===4||_e===3&&(kt&62914560)===kt&&300>Nt()-Wu?(Yt&2)===0&&Pa(e,0):jf|=s,Ua===kt&&(Ua=0)),Ii(e)}function Vy(e,n){n===0&&(n=eu()),e=xr(e,n),e!==null&&(gr(e,n),Ii(e))}function C1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Vy(e,s)}function I1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Vy(e,s)}function N1(e,n){return q(e,n)}var ac=null,ja=null,Yf=!1,oc=!1,Xf=!1,Bs=0;function Ii(e){e!==ja&&e.next===null&&(ja===null?ac=ja=e:ja=ja.next=e),oc=!0,Yf||(Yf=!0,D1())}function ol(e,n){if(!Xf&&oc){Xf=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ly(o,f))}else f=kt,f=ci(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(s=!0,Ly(o,f));o=o.next}while(s);Xf=!1}}function x1(){My()}function My(){oc=Yf=!1;var e=0;Bs!==0&&B1()&&(e=Bs);for(var n=Nt(),s=null,o=ac;o!==null;){var c=o.next,f=ky(o,n);f===0?(o.next=null,s===null?ac=c:s.next=c,c===null&&(ja=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=c}ke!==0&&ke!==5||ol(e),Bs!==0&&(Bs=0)}function ky(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ve(f),E=1<<p,R=c[p];R===-1?((E&s)===0||(E&o)!==0)&&(c[p]=Ah(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,s=kt,s=ci(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&gt(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&gt(o),zi(s)){case 2:case 8:s=gs;break;case 32:s=an;break;case 268435456:s=mr;break;default:s=an}return o=Uy.bind(null,e),s=q(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&gt(o),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=kt;return o=ci(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),ky(e,Nt()),e.callbackNode!=null&&e.callbackNode===s?Uy.bind(null,e):null)}function Ly(e,n){if(rc())return null;yy(e,n,!0)}function D1(){q1(function(){(Yt&6)!==0?q(Fn,x1):My()})}function Jf(){if(Bs===0){var e=wa;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Bs=e}return Bs}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function zy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function O1(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=Py((c[Pe]||null).action),p=o.submitter;p&&(n=(n=p[Pe]||null)?Py(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ti("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Bs!==0){var R=p?zy(c,p):new FormData(c);gf(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?zy(c,p):new FormData(c),gf(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var $f=0;$f<Oh.length;$f++){var Zf=Oh[$f],V1=Zf.toLowerCase(),M1=Zf[0].toUpperCase()+Zf.slice(1);ei(V1,"on"+M1)}ei(gp,"onAnimationEnd"),ei(yp,"onAnimationIteration"),ei(_p,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(JT,"onTransitionRun"),ei($T,"onTransitionStart"),ei(ZT,"onTransitionCancel"),ei(vp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function jy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){bu(F)}c.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){bu(F)}c.currentTarget=null,f=R}}}}function Dt(e,n){var s=n[ra];s===void 0&&(s=n[ra]=new Set);var o=e+"__bubble";s.has(o)||(By(n,e,2,!1),s.add(o))}function Wf(e,n,s){var o=0;n&&(o|=4),By(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[lc]){e[lc]=!0,Eo.forEach(function(s){s!=="selectionchange"&&(k1.has(s)||Wf(s,!1,e),Wf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,Wf("selectionchange",!1,n))}}function By(e,n,s,o){switch(g_(n)){case 2:var c=ub;break;case 8:c=cb;break;default:c=pd}s=c.bind(null,n,s,e),c=void 0,!br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function ed(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=mi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}bs(function(){var z=f,F=Dn(s),Y=[];t:{var j=Ep.get(e);if(j!==void 0){var H=Ti,lt=e;switch(e){case"keypress":if(Sr(s)===0)break t;case"keydown":case"keyup":H=vu;break;case"focusin":lt="focus",H=Rr;break;case"focusout":lt="blur",H=Rr;break;case"beforeblur":case"afterblur":H=Rr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case gp:case yp:case _p:H=fu;break;case vp:H=T;break;case"scroll":case"scrollend":H=Oo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Hi;break;case"toggle":case"beforetoggle":H=Rt}var pt=(n&4)!==0,se=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=$n(D,k),Q!=null&&pt.push(ul(D,Q,P))),se)break;D=D.return}0<pt.length&&(j=new H(j,lt,null,s,F),Y.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==No&&(lt=s.relatedTarget||s.fromElement)&&(mi(lt)||lt[fi]))break t;if((H||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,H?(lt=s.relatedTarget||s.toElement,H=z,lt=lt?mi(lt):null,lt!==null&&(se=h(lt),pt=lt.tag,lt!==se||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(pt=Vo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Hi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),se=H==null?j:vn(H),P=lt==null?j:vn(lt),j=new pt(Q,D+"leave",H,s,F),j.target=se,j.relatedTarget=P,Q=null,mi(F)===z&&(pt=new pt(k,D+"enter",lt,s,F),pt.target=P,pt.relatedTarget=se,Q=pt),se=Q,H&&lt)e:{for(pt=U1,k=H,D=lt,P=0,Q=k;Q;Q=pt(Q))P++;Q=0;for(var ft=D;ft;ft=pt(ft))Q++;for(;0<P-Q;)k=pt(k),P--;for(;0<Q-P;)D=pt(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){pt=k;break e}k=pt(k),D=pt(D)}pt=null}else pt=null;H!==null&&Hy(Y,j,H,pt,!1),lt!==null&&se!==null&&Hy(Y,se,lt,pt,!0)}}t:{if(j=z?vn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Gt=rp;else if(ip(j))if(ap)Gt=KT;else{Gt=FT;var ut=GT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ua(z.elementType)&&(Gt=rp):Gt=QT;if(Gt&&(Gt=Gt(e,z))){sp(Y,Gt,s,F);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ro(j,"number",j.value)}switch(ut=z?vn(z):window,e){case"focusin":(ip(ut)||ut.contentEditable==="true")&&(ya=ut,Nh=z,Po=null);break;case"focusout":Po=Nh=ya=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,mp(Y,s,F);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":mp(Y,s,F)}var It;if(Kt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ga?Cr(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Si&&s.locale!=="ko"&&(ga||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ga&&(It=Do()):(Ei=F,xo="value"in Ei?Ei.value:Ei.textContent,ga=!0)),ut=uc(z,Ut),0<ut.length&&(Ut=new Ai(Ut,e,null,s,F),Y.push({event:Ut,listeners:ut}),It?Ut.data=It:(It=pa(s),It!==null&&(Ut.data=It)))),(It=Vn?jT(e,s):BT(e,s))&&(Ut=uc(z,"onBeforeInput"),0<Ut.length&&(ut=new Ai("onBeforeInput","beforeinput",null,s,F),Y.push({event:ut,listeners:Ut}),ut.data=It)),O1(Y,e,z,s,F)}jy(Y,n)})}function ul(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=$n(e,s),c!=null&&o.unshift(ul(e,c,f)),c=$n(e,n),c!=null&&o.push(ul(e,c,f))),e.tag===3)return o;e=e.return}return[]}function U1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,s,o,c){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=$n(s,f),z!=null&&p.unshift(ul(s,z,R))):c||(z=$n(s,f),z!=null&&p.push(ul(s,z,R)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var L1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(L1,`
`).replace(P1,"")}function Gy(e,n){return n=qy(n),qy(e)===n}function ie(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hn(e,""+o);break;case"className":En(e,"class",o);break;case"tabIndex":En(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,s,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){En(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ca(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ie(e,n,"name",c.name,c,null),ie(e,n,"formEncType",c.formEncType,c,null),ie(e,n,"formMethod",c.formMethod,c,null),ie(e,n,"formTarget",c.formTarget,c,null)):(ie(e,n,"encType",c.encType,c,null),ie(e,n,"method",c.method,c,null),ie(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ca(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),oa(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,oa(e,s,o))}}function nd(e,n,s,o,c,f){switch(s){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?hn(e,o):(typeof o=="number"||typeof o=="bigint")&&hn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Pe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):oa(e,s,o)}}}function Ye(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,f,p,s,null)}}c&&ie(e,n,"srcSet",s.srcSet,s,null),o&&ie(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=p=c=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":c=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ie(e,n,o,F,s,null)}}au(e,f,E,R,z,p,c,!1);return;case"select":Dt("invalid",e),o=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ie(e,n,c,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?_s(e,!!o,n,!1):s!=null&&_s(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=c=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ie(e,n,p,E,s,null)}vs(e,o,c,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ie(e,n,R,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<ll.length;o++)Dt(ll[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,z,o,s,null)}return;default:if(ua(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&nd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ie(e,n,E,o,s,null))}function z1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,R=null,z=null,F=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(H)||ie(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":c=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&ie(e,n,j,H,o,Y)}}la(e,p,E,R,z,F,f,c);return;case"select":H=p=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||ie(e,n,f,null,o,R)}for(c in o)if(f=o[c],R=s[c],o.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&ie(e,n,c,f,o,R)}n=E,s=p,o=H,j!=null?_s(e,!!s,j,!1):!!o!=!!s&&(n!=null?_s(e,!!s,n,!0):_s(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(e,n,E,null,o,c)}for(p in o)if(c=o[p],f=s[p],o.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":j=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&ie(e,n,p,c,o,f)}ou(e,j,H);return;case"option":for(var lt in s)j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:ie(e,n,lt,null,o,j));for(R in o)j=o[R],H=s[R],o.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ie(e,n,R,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&ie(e,n,pt,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ie(e,n,z,j,o,H)}return;default:if(ua(n)){for(var se in s)j=s[se],s.hasOwnProperty(se)&&j!==void 0&&!o.hasOwnProperty(se)&&nd(e,n,se,void 0,o,j);for(F in o)j=o[F],H=s[F],!o.hasOwnProperty(F)||j===H||j===void 0&&H===void 0||nd(e,n,F,j,o,H);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&ie(e,n,k,null,o,j);for(Y in o)j=o[Y],H=s[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||ie(e,n,Y,j,o,H)}function Fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,p=c.initiatorType,E=c.duration;if(f&&E&&Fy(p)){for(p=0,E=c.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>E)break;var F=R.transferSize,Y=R.initiatorType;F&&Fy(Y)&&(R=R.responseEnd,p+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,sd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function B1(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(G1)}:Yy;function G1(e){setTimeout(function(){throw e})}function Hs(e){return e==="head"}function Jy(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Ga(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")cl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,cl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&cl(e.ownerDocument.body);s=c}while(s);Ga(n)}function $y(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":od(s),aa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function F1(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function Q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=jn(e.nextSibling),e===null))return null;return e}function Zy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function K1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return jn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);aa(e)}var Bn=new Map,n_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=tt.d;tt.d={f:Y1,r:X1,D:J1,C:$1,L:Z1,m:W1,X:eb,S:tb,M:nb};function Y1(){var e=is.f(),n=nc();return e||n}function X1(e){var n=xn(e);n!==null&&n.tag===5&&n.type==="form"?vg(n):is.r(e)}var Ba=typeof document>"u"?null:document;function i_(e,n,s){var o=Ba;if(o&&typeof n=="string"&&n){var c=cn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),n_.has(c)||(n_.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Ye(n,"link",e),Re(n),o.head.appendChild(n)))}}function J1(e){is.D(e),i_("dns-prefetch",e,null)}function $1(e,n){is.C(e,n),i_("preconnect",e,n)}function Z1(e,n,s){is.L(e,n,s);var o=Ba;if(o&&e&&n){var c='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+cn(s.imageSizes)+'"]')):c+='[href="'+cn(e)+'"]';var f=c;switch(n){case"style":f=Ha(e);break;case"script":f=qa(e)}Bn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Bn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(hl(f))||n==="script"&&o.querySelector(fl(f))||(n=o.createElement("link"),Ye(n,"link",e),Re(n),o.head.appendChild(n)))}}function W1(e,n){is.m(e,n);var s=Ba;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Bn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Bn.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(fl(f)))return}o=s.createElement("link"),Ye(o,"link",e),Re(o),s.head.appendChild(o)}}}function tb(e,n,s){is.S(e,n,s);var o=Ba;if(o&&e){var c=pi(o).hoistableStyles,f=Ha(e);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(hl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Bn.get(f))&&hd(e,s);var R=p=o.createElement("link");Re(R),Ye(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function eb(e,n){is.X(e,n);var s=Ba;if(s&&e){var o=pi(s).hoistableScripts,c=qa(e),f=o.get(c);f||(f=s.querySelector(fl(c)),f||(e=S({src:e,async:!0},n),(n=Bn.get(c))&&fd(e,n),f=s.createElement("script"),Re(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function nb(e,n){is.M(e,n);var s=Ba;if(s&&e){var o=pi(s).hoistableScripts,c=qa(e),f=o.get(c);f||(f=s.querySelector(fl(c)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Bn.get(c))&&fd(e,n),f=s.createElement("script"),Re(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function s_(e,n,s,o){var c=(c=wt.current)?hc(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ha(s.href),s=pi(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ha(s.href);var f=pi(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(hl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Bn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(e,s),f||ib(c,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(s),s=pi(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ha(e){return'href="'+cn(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function r_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ib(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ye(n,"link",s),Re(n),e.head.appendChild(n))}function qa(e){return'[src="'+cn(e)+'"]'}function fl(e){return"script[async]"+e}function a_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+cn(s.href)+'"]');if(o)return n.instance=o,Re(o),o;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Re(o),Ye(o,"style",c),fc(o,s.precedence,e),n.instance=o;case"stylesheet":c=Ha(s.href);var f=e.querySelector(hl(c));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;o=r_(s),(c=Bn.get(c))&&hd(o,c),f=(e.ownerDocument||e).createElement("link"),Re(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ye(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=qa(s.src),(c=e.querySelector(fl(f)))?(n.instance=c,Re(c),c):(o=s,(c=Bn.get(f))&&(o=S({},s),fd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),Re(c),Ye(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function o_(e,n,s){if(dc===null){var o=new Map,c=dc=new Map;c.set(s,o)}else c=dc,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[di]||f[we]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function l_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function sb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ha(o.href),f=n.querySelector(hl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Re(f);return}f=n.ownerDocument||n,o=r_(o),(c=Bn.get(c))&&hd(o,c),f=f.createElement("link"),Re(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ye(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var dd=0;function ab(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dd===0&&(dd=62500*j1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(ob,e),pc=null,mc.call(e))}function ob(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,c),s.set(p,c),this.count++,o=mc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var dl={$$typeof:Et,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function lb(e,n,s,o,c,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function c_(e,n,s,o,c,f,p,E,R,z,F,Y){return e=new lb(e,n,s,p,R,z,F,Y,E),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Xh(f),e}function h_(e){return e?(e=Ea,e):Ea}function f_(e,n,s,o,c,f){c=h_(c),o.context===null?o.context=c:o.pendingContext=c,o=Ds(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Os(e,o,n),s!==null&&(gn(s,e,n),Fo(s,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function md(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=xr(e,67108864);n!==null&&gn(n,e,67108864),md(e,67108864)}}function p_(e){if(e.tag===13||e.tag===31){var n=Cn();n=_r(n);var s=xr(e,n);s!==null&&gn(s,e,n),md(e,n)}}var yc=!0;function ub(e,n,s,o){var c=G.T;G.T=null;var f=tt.p;try{tt.p=2,pd(e,n,s,o)}finally{tt.p=f,G.T=c}}function cb(e,n,s,o){var c=G.T;G.T=null;var f=tt.p;try{tt.p=8,pd(e,n,s,o)}finally{tt.p=f,G.T=c}}function pd(e,n,s,o){if(yc){var c=gd(o);if(c===null)ed(e,n,o,_c,s),y_(e,o);else if(fb(c,e,n,s,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<hb.indexOf(e)){for(;c!==null;){var f=xn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ui(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-ve(p);E.entanglements[1]|=R,p&=~R}Ii(f),(Yt&6)===0&&(tc=Nt()+500,ol(0))}}break;case 31:case 13:E=xr(f,2),E!==null&&gn(E,f,2),nc(),md(f,2)}if(f=gd(o),f===null&&ed(e,n,o,_c,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else ed(e,n,o,null,s)}}function gd(e){return e=Dn(e),yd(e)}var _c=null;function yd(e){if(_c=null,e=mi(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function g_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Fn:return 2;case gs:return 8;case an:case un:return 32;case mr:return 268435456;default:return 32}default:return 32}}var _d=!1,qs=null,Gs=null,Fs=null,ml=new Map,pl=new Map,Qs=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function gl(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=xn(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function fb(e,n,s,o,c){switch(n){case"focusin":return qs=gl(qs,e,n,s,o,c),!0;case"dragenter":return Gs=gl(Gs,e,n,s,o,c),!0;case"mouseover":return Fs=gl(Fs,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return ml.set(f,gl(ml.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,pl.set(f,gl(pl.get(f)||null,e,n,s,o,c)),!0}return!1}function __(e){var n=mi(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){p_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){p_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=gd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);No=o,s.target.dispatchEvent(o),No=null}else return n=xn(s),n!==null&&m_(n),e.blockedOn=s,!1;n.shift()}return!0}function v_(e,n,s){vc(e)&&s.delete(n)}function db(){_d=!1,qs!==null&&vc(qs)&&(qs=null),Gs!==null&&vc(Gs)&&(Gs=null),Fs!==null&&vc(Fs)&&(Fs=null),ml.forEach(v_),pl.forEach(v_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,db)))}var Tc=null;function E_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(yd(o||s)===null)continue;break}var f=xn(s);f!==null&&(e.splice(n,3),n-=3,gf(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Ga(e){function n(R){return Ec(R,e)}qs!==null&&Ec(qs,e),Gs!==null&&Ec(Gs,e),Fs!==null&&Ec(Fs,e),ml.forEach(n),pl.forEach(n);for(var s=0;s<Qs.length;s++){var o=Qs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Qs.length&&(s=Qs[0],s.blockedOn===null);)__(s),s.blockedOn===null&&Qs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],p=c[Pe]||null;if(typeof f=="function")p||E_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Pe]||null)E=p.formAction;else if(yd(c)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),E_(s)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function vd(e){this._internalRoot=e}bc.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Cn();f_(s,o,e,n,null,null)},bc.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),nc(),n[fi]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Qs.length&&n!==0&&n<Qs[s].priority;s++);Qs.splice(s,0,e),s===0&&__(e)}};var b_=t.version;if(b_!=="19.2.4")throw Error(a(527,b_,"19.2.4"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var mb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Qn=Ac.inject(mb),qe=Ac}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",c=Ng,f=xg,p=Dg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=c_(e,1,!1,null,null,s,o,null,c,f,p,T_),e[fi]=n.current,td(e),new vd(n)},_l.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,c="",f=Ng,p=xg,E=Dg,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=c_(e,1,!0,n,s??null,o,c,R,f,p,E,T_),n.context=h_(null),s=n.current,o=Cn(),o=_r(o),c=Ds(o),c.callback=null,Os(s,c,o),s=o,n.current.lanes=s,gr(n,s),Ii(n),e[fi]=n.current,td(e),new bc(n)},_l.version="19.2.4",_l}var O_;function Sb(){if(O_)return bd.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bd.exports=Ab(),bd.exports}var wb=Sb();const p0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const Rb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Cb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const V_=r=>{const t=Cb(r);return t.charAt(0).toUpperCase()+t.slice(1)};var Ib={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nb=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const xb=Wt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:h,iconNode:d,...g},v)=>Wt.createElement("svg",{ref:v,...Ib,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:p0("lucide",l),...!h&&!Nb(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,b])=>Wt.createElement(_,b)),...Array.isArray(h)?h:[h]]));const rn=(r,t)=>{const i=Wt.forwardRef(({className:a,...l},h)=>Wt.createElement(xb,{ref:h,iconNode:t,className:p0(`lucide-${Rb(V_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=V_(r),i};const Db=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ob=rn("chevron-down",Db);const Vb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Mb=rn("chevron-up",Vb);const kb=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ub=rn("database",kb);const Lb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Pb=rn("file-text",Lb);const zb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jb=rn("image",zb);const Bb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],M_=rn("loader-circle",Bb);const Hb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rd=rn("lock",Hb);const qb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cd=rn("plus",qb);const Gb=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Fb=rn("printer",Gb);const Qb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kb=rn("save",Qb);const Yb=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],k_=rn("school",Yb);const Xb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jb=rn("search",Xb);const $b=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],U_=rn("sparkles",$b);const Zb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],L_=rn("trash-2",Zb);const Wb=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],tA=rn("wand-sparkles",Wb);const eA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sc=rn("x",eA),nA=()=>{};var P_={};const g0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},iA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[i++],d=r[i++],g=r[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],d=l+1<r.length,g=d?r[l+1]:0,v=l+2<r.length,_=v?r[l+2]:0,b=h>>2,S=(h&3)<<4|g>>4;let M=(g&15)<<2|_>>6,X=_&63;v||(X=64,d||(M=64)),a.push(i[b],i[S],i[M],i[X])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(g0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,h==null||g==null||_==null||S==null)throw new sA;const M=h<<2|g>>4;if(a.push(M),_!==64){const X=g<<4&240|_>>2;if(a.push(X),S!==64){const Z=_<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rA=function(r){const t=g0(r);return y0.encodeByteArray(t,!0)},Bc=function(r){return rA(r).replace(/\./g,"")},_0=function(r){try{return y0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function aA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oA=()=>aA().__FIREBASE_DEFAULTS__,lA=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_0(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return nA()||oA()||lA()||uA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},v0=r=>oh()?.emulatorHosts?.[r],cA=r=>{const t=v0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},E0=()=>oh()?.config,T0=r=>oh()?.[`_${r}`];class hA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(r){return(await fetch(r,{credentials:"include"})).ok}function fA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const Sl={};function dA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function mA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let z_=!1;function A0(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Sl[r]===t||Sl[r]||z_)return;Sl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=dA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,X){M.setAttribute("width","24"),M.setAttribute("id",X),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{z_=!0,d()},M}function b(M,X){M.setAttribute("id",X),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=mA(a),X=i("text"),Z=document.getElementById(X)||document.createElement("span"),it=i("learnmore"),nt=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),ct=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Et=M.element;g(Et),b(nt,it);const jt=_();v(ct,mt),Et.append(ct,Z,nt,jt),document.body.appendChild(Et)}h?(Z.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function gA(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _A(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EA(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TA(){return!gA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function AA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const SA="FirebaseError";class ds extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=SA,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?wA(h,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ds(l,g,a)}}function wA(r,t){return r.replace(RA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const RA=/\{\$([^}]+)}/g;function CA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Kr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=r[l],d=t[l];if(j_(h)&&j_(d)){if(!Kr(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}function jl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function IA(r,t){const i=new NA(r,t);return i.subscribe.bind(i)}class NA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");xA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Id),l.error===void 0&&(l.error=Id),l.complete===void 0&&(l.complete=Id);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Id(){}function _n(r){return r&&r._delegate?r._delegate:r}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class DA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new hA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VA(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:OA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(r){return r===qr?void 0:r}function VA(r){return r.instantiationMode==="EAGER"}class MA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new DA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const kA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},UA=Lt.INFO,LA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},PA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=LA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mm{constructor(t){this.name=t,this._logLevel=UA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const zA=(r,t)=>t.some(i=>r instanceof i);let B_,H_;function jA(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BA(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Hd=new WeakMap,w0=new WeakMap,Nd=new WeakMap,pm=new WeakMap;function HA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(tr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&S0.set(i,r)}).catch(()=>{}),pm.set(t,r),t}function qA(r){if(Hd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Hd.set(r,t)}let qd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Hd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||w0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GA(r){qd=r(qd)}function FA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(xd(this),t,...i);return w0.set(a,t.sort?t.sort():[t]),tr(a)}:BA().includes(r)?function(...t){return r.apply(xd(this),t),tr(S0.get(this))}:function(...t){return tr(r.apply(xd(this),t))}}function QA(r){return typeof r=="function"?FA(r):(r instanceof IDBTransaction&&qA(r),zA(r,jA())?new Proxy(r,qd):r)}function tr(r){if(r instanceof IDBRequest)return HA(r);if(Nd.has(r))return Nd.get(r);const t=QA(r);return t!==r&&(Nd.set(r,t),pm.set(t,r)),t}const xd=r=>pm.get(r);function KA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(r,t),g=tr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(tr(d.result),v.oldVersion,v.newVersion,tr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const YA=["get","getKey","getAll","getAllKeys","count"],XA=["put","add","delete","clear"],Dd=new Map;function q_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=XA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||YA.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&v.done]))[0]};return Dd.set(t,h),h}GA(r=>({...r,get:(t,i,a)=>q_(t,i)||r.get(t,i,a),has:(t,i)=>!!q_(t,i)||r.has(t,i)}));class JA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($A(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function $A(r){return r.getComponent()?.type==="VERSION"}const Gd="@firebase/app",G_="0.14.8";const os=new mm("@firebase/app"),ZA="@firebase/app-compat",WA="@firebase/analytics-compat",tS="@firebase/analytics",eS="@firebase/app-check-compat",nS="@firebase/app-check",iS="@firebase/auth",sS="@firebase/auth-compat",rS="@firebase/database",aS="@firebase/data-connect",oS="@firebase/database-compat",lS="@firebase/functions",uS="@firebase/functions-compat",cS="@firebase/installations",hS="@firebase/installations-compat",fS="@firebase/messaging",dS="@firebase/messaging-compat",mS="@firebase/performance",pS="@firebase/performance-compat",gS="@firebase/remote-config",yS="@firebase/remote-config-compat",_S="@firebase/storage",vS="@firebase/storage-compat",ES="@firebase/firestore",TS="@firebase/ai",bS="@firebase/firestore-compat",AS="firebase",SS="12.9.0";const Fd="[DEFAULT]",wS={[Gd]:"fire-core",[ZA]:"fire-core-compat",[tS]:"fire-analytics",[WA]:"fire-analytics-compat",[nS]:"fire-app-check",[eS]:"fire-app-check-compat",[iS]:"fire-auth",[sS]:"fire-auth-compat",[rS]:"fire-rtdb",[aS]:"fire-data-connect",[oS]:"fire-rtdb-compat",[lS]:"fire-fn",[uS]:"fire-fn-compat",[cS]:"fire-iid",[hS]:"fire-iid-compat",[fS]:"fire-fcm",[dS]:"fire-fcm-compat",[mS]:"fire-perf",[pS]:"fire-perf-compat",[gS]:"fire-rc",[yS]:"fire-rc-compat",[_S]:"fire-gcs",[vS]:"fire-gcs-compat",[ES]:"fire-fst",[bS]:"fire-fst-compat",[TS]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};const Hc=new Map,RS=new Map,Qd=new Map;function F_(r,t){try{r.container.addComponent(t)}catch(i){os.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function io(r){const t=r.name;if(Qd.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;Qd.set(t,r);for(const i of Hc.values())F_(i,r);for(const i of RS.values())F_(i,r);return!0}function gm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Hn(r){return r==null?!1:r.settings!==void 0}const CS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new zl("app","Firebase",CS);class IS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const co=SS;function R0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Fd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw er.create("bad-app-name",{appName:String(l)});if(i||(i=E0()),!i)throw er.create("no-options");const h=Hc.get(l);if(h){if(Kr(i,h.options)&&Kr(a,h.config))return h;throw er.create("duplicate-app",{appName:l})}const d=new MA(l);for(const v of Qd.values())d.addComponent(v);const g=new IS(i,a,d);return Hc.set(l,g),g}function C0(r=Fd){const t=Hc.get(r);if(!t&&r===Fd&&E0())return R0();if(!t)throw er.create("no-app",{appName:r});return t}function nr(r,t,i){let a=wS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}io(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const NS="firebase-heartbeat-database",xS=1,xl="firebase-heartbeat-store";let Od=null;function I0(){return Od||(Od=KA(NS,xS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw er.create("idb-open",{originalErrorMessage:r.message})})),Od}async function DS(r){try{const i=(await I0()).transaction(xl),a=await i.objectStore(xl).get(N0(r));return await i.done,a}catch(t){if(t instanceof ds)os.warn(t.message);else{const i=er.create("idb-get",{originalErrorMessage:t?.message});os.warn(i.message)}}}async function Q_(r,t){try{const a=(await I0()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,N0(r)),await a.done}catch(i){if(i instanceof ds)os.warn(i.message);else{const a=er.create("idb-set",{originalErrorMessage:i?.message});os.warn(a.message)}}}function N0(r){return`${r.name}!${r.options.appId}`}const OS=1024,VS=30;class MS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new US(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>VS){const l=LS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=kS(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function kS(r,t=OS){const i=[];let a=r.slice();for(const l of r){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),Y_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Y_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class US{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?AA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Y_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function LS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function PS(r){io(new Yr("platform-logger",t=>new JA(t),"PRIVATE")),io(new Yr("heartbeat",t=>new MS(t),"PRIVATE")),nr(Gd,G_,r),nr(Gd,G_,"esm2020"),nr("fire-js","")}PS("");var zS="firebase",jS="12.9.0";nr(zS,jS,"app");function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BS=x0,D0=new zl("auth","Firebase",x0());const qc=new mm("@firebase/auth");function HS(r,...t){qc.logLevel<=Lt.WARN&&qc.warn(`Auth (${co}): ${r}`,...t)}function Dc(r,...t){qc.logLevel<=Lt.ERROR&&qc.error(`Auth (${co}): ${r}`,...t)}function ls(r,...t){throw ym(r,...t)}function xi(r,...t){return ym(r,...t)}function O0(r,t,i){const a={...BS(),[t]:i};return new zl("auth","Firebase",a).create(t,{appName:r.name})}function as(r){return O0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ym(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return D0.create(r,...t)}function vt(r,t,...i){if(!r)throw ym(t,...i)}function ss(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Dc(t),new Error(t)}function us(r,t){r||ss(t)}function Kd(){return typeof self<"u"&&self.location?.href||""}function qS(){return X_()==="http:"||X_()==="https:"}function X_(){return typeof self<"u"&&self.location?.protocol||null}function GS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qS()||_A()||"connection"in navigator)?navigator.onLine:!0}function FS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Bl{constructor(t,i){this.shortDelay=t,this.longDelay=i,us(i>t,"Short delay should be less than long delay!"),this.isMobile=pA()||vA()}get(){return GS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _m(r,t){us(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class V0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YS=new Bl(3e4,6e4);function Hl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ho(r,t,i,a,l={}){return M0(r,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const g=jl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:v,...h};return yA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),V0.fetch()(await k0(r,r.config.apiHost,i,g),_)})}async function M0(r,t,i){r._canInitEmulator=!1;const a={...QS,...t};try{const l=new XS(r),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw wc(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw O0(r,b,_);ls(r,b)}}catch(l){if(l instanceof ds)throw l;ls(r,"network-request-failed",{message:String(l)})}}async function vm(r,t,i,a,l={}){const h=await ho(r,t,i,a,l);return"mfaPendingCredential"in h&&ls(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function k0(r,t,i,a){const l=`${t}${i}?${a}`,h=r,d=h.config.emulator?_m(r.config,l):`${r.config.apiScheme}://${l}`;return KS.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class XS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(xi(this.auth,"network-request-failed")),YS.get())})}}function wc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=xi(r,t,a);return l.customData._tokenResponse=i,l}async function JS(r,t){return ho(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return ho(r,"POST","/v1/accounts:lookup",t)}function wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $S(r,t=!1){const i=_n(r),a=await i.getIdToken(t),l=Em(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:wl(Vd(l.auth_time)),issuedAtTime:wl(Vd(l.iat)),expirationTime:wl(Vd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Vd(r){return Number(r)*1e3}function Em(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=_0(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function J_(r){const t=Em(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Dl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ds&&ZS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function ZS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class WS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fc(r){const t=r.auth,i=await r.getIdToken(),a=await Dl(r,Gc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?U0(l.providerUserInfo):[],d=ew(r.providerData,h),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,_=g?v:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Yd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function tw(r){const t=_n(r);await Fc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ew(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function U0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function nw(r,t){const i=await M0(r,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,d=await k0(r,l,"/v1/token",`key=${h}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(v.credentials="include"),V0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function iw(r,t){return ho(r,"POST","/v2/accounts:revokeToken",Hl(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=J_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await nw(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new Ja;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(vt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Ys(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new WS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Yd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return $S(this,t)}reload(){return tw(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Fc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(as(this.auth));const t=await this.getIdToken();return await Dl(this,JS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:X,providerData:Z,stsTokenManager:it}=i;vt(S&&it,t,"internal-error");const nt=Ja.fromJSON(this.name,it);vt(typeof S=="string",t,"internal-error"),Ys(a,t.name),Ys(l,t.name),vt(typeof M=="boolean",t,"internal-error"),vt(typeof X=="boolean",t,"internal-error"),Ys(h,t.name),Ys(d,t.name),Ys(g,t.name),Ys(v,t.name),Ys(_,t.name),Ys(b,t.name);const mt=new si({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:nt,createdAt:_,lastLoginAt:b});return Z&&Array.isArray(Z)&&(mt.providerData=Z.map(ct=>({...ct}))),v&&(mt._redirectEventId=v),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const h=new si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Fc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?U0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new Ja;g.updateFromIdToken(a);const v=new si({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Yd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}const $_=new Map;function rs(r){us(r instanceof Function,"Expected a class definition");let t=$_.get(r);return t?(us(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,$_.set(r,t),t)}class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}L0.type="NONE";const Z_=L0;function Oc(r,t,i){return`firebase:${r}:${t}:${i}`}class $a{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Oc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new $a(rs(Z_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||rs(Z_);const d=Oc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const b=await _._get(d);if(b){let S;if(typeof b=="string"){const M=await Gc(t,{idToken:b}).catch(()=>{});if(!M)break;S=await si._fromGetAccountInfoResponse(t,M,b)}else S=si._fromJSON(t,b);_!==h&&(g=S),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new $a(h,t,a):(h=v[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new $a(h,t,a))}}function W_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(B0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(q0(t))return"Blackberry";if(G0(t))return"Webos";if(z0(t))return"Safari";if((t.includes("chrome/")||j0(t))&&!t.includes("edge/"))return"Chrome";if(H0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function P0(r=sn()){return/firefox\//i.test(r)}function z0(r=sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function j0(r=sn()){return/crios\//i.test(r)}function B0(r=sn()){return/iemobile/i.test(r)}function H0(r=sn()){return/android/i.test(r)}function q0(r=sn()){return/blackberry/i.test(r)}function G0(r=sn()){return/webos/i.test(r)}function Tm(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sw(r=sn()){return Tm(r)&&!!window.navigator?.standalone}function rw(){return EA()&&document.documentMode===10}function F0(r=sn()){return Tm(r)||H0(r)||G0(r)||q0(r)||/windows phone/i.test(r)||B0(r)}function Q0(r,t=[]){let i;switch(r){case"Browser":i=W_(sn());break;case"Worker":i=`${W_(sn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class aw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,g)=>{try{const v=t(h);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ow(r,t={}){return ho(r,"GET","/v2/passwordPolicy",Hl(r,t))}const lw=6;class uw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??lw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class cw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new aw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Hn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Fc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hn(this.app))return Promise.reject(as(this));const i=t?_n(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hn(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ow(this),i=new uw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await iw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&HS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ql(r){return _n(r)}class tv{constructor(t){this.auth=t,this.observer=null,this.addObserver=IA(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hw(r){bm=r}function fw(r){return bm.loadJS(r)}function dw(){return bm.gapiScript}function mw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function pw(r,t){const i=gm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Kr(h,t??{}))return l;ls(l,"already-initialized")}return i.initialize({options:t})}function gw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function yw(r,t,i){const a=ql(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=K0(t),{host:d,port:g}=_w(t),v=g===null?"":`:${g}`,_={url:`${h}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(Kr(_,a.config.emulator)&&Kr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(b0(`${h}//${d}${v}`),A0("Auth",!0)):vw()}function K0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function _w(r){const t=K0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:ev(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:ev(d)}}}function ev(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function vw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Y0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function Za(r,t){return vm(r,"POST","/v1/accounts:signInWithIdp",Hl(r,t))}const Ew="http://localhost";class Xr extends Y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ls("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:Ew,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class X0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends X0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Xs extends Gl{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";class Js extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class $s extends Gl{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $s.credential(t.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";class Zs extends Gl{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Zs.credential(i,a)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";async function Tw(r,t){return vm(r,"POST","/v1/accounts:signUp",Hl(r,t))}class cs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await si._fromIdTokenResponse(t,a,l),d=nv(a);return new cs({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=nv(a);return new cs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function nv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function bw(r){if(Hn(r.app))return Promise.reject(as(r));const t=ql(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new cs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Tw(t,{returnSecureToken:!0}),a=await cs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Qc extends ds{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function J0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(r,h,t,a):h})}async function Aw(r,t,i=!1){const a=await Dl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return cs._forOperation(r,"link",a)}async function Sw(r,t,i=!1){const{auth:a}=r;if(Hn(a.app))return Promise.reject(as(a));const l="reauthenticate";try{const h=await Dl(r,J0(a,l,t,r),i);vt(h.idToken,a,"internal-error");const d=Em(h.idToken);vt(d,a,"internal-error");const{sub:g}=d;return vt(r.uid===g,a,"user-mismatch"),cs._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&ls(a,"user-mismatch"),h}}async function ww(r,t,i=!1){if(Hn(r.app))return Promise.reject(as(r));const a="signIn",l=await J0(r,a,t),h=await cs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(h.user),h}async function Rw(r,t){return vm(r,"POST","/v1/accounts:signInWithCustomToken",Hl(r,t))}async function Cw(r,t){if(Hn(r.app))return Promise.reject(as(r));const i=ql(r),a=await Rw(i,{token:t,returnSecureToken:!0}),l=await cs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Iw(r,t,i,a){return _n(r).onIdTokenChanged(t,i,a)}function Nw(r,t,i){return _n(r).beforeAuthStateChanged(t,i)}function xw(r,t,i,a){return _n(r).onAuthStateChanged(t,i,a)}const Kc="__sak";class $0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dw=1e3,Ow=10;class Z0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);rw()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Ow):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Z0.type="LOCAL";const Vw=Z0;class W0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}W0.type="SESSION";const tE=W0;function Mw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,h)),v=await Mw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Am(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class kw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,v)=>{const _=Am("",20);l.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(b),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(M.data.response);break;default:clearTimeout(b),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function Uw(r){Di().location.href=r}function eE(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function Lw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pw(){return navigator?.serviceWorker?.controller||null}function zw(){return eE()?self:null}const nE="firebaseLocalStorageDb",jw=1,Yc="firebaseLocalStorage",iE="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(r,t){return r.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function Bw(){const r=indexedDB.deleteDatabase(nE);return new Fl(r).toPromise()}function Xd(){const r=indexedDB.open(nE,jw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Yc,{keyPath:iE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Yc)?t(a):(a.close(),await Bw(),t(await Xd()))})})}async function iv(r,t,i){const a=uh(r,!0).put({[iE]:t,value:i});return new Fl(a).toPromise()}async function Hw(r,t){const i=uh(r,!1).get(t),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function sv(r,t){const i=uh(r,!0).delete(t);return new Fl(i).toPromise()}const qw=800,Gw=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Gw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(zw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Lw(),!this.activeServiceWorker)return;this.sender=new kw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xd();return await iv(t,Kc,"1"),await sv(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>iv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Hw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=uh(l,!1).getAll();return new Fl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const Fw=sE;new Bl(3e4,6e4);function Qw(r,t){return t?rs(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Sm extends Y0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Kw(r){return ww(r.auth,new Sm(r),r.bypassAuthState)}function Yw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),Sw(i,new Sm(r),r.bypassAuthState)}async function Xw(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),Aw(i,new Sm(r),r.bypassAuthState)}class rE{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Kw;case"linkViaPopup":case"linkViaRedirect":return Xw;case"reauthViaPopup":case"reauthViaRedirect":return Yw;default:ls(this.auth,"internal-error")}}resolve(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jw=new Bl(2e3,1e4);class Xa extends rE{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const t=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Jw.get())};t()}}Xa.currentPopupAction=null;const $w="pendingRedirect",Vc=new Map;class Zw extends rE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await Ww(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ww(r,t){const i=n2(t),a=e2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function t2(r,t){Vc.set(r._key(),t)}function e2(r){return rs(r._redirectPersistence)}function n2(r){return Oc($w,r.config.apiKey,r.name)}async function i2(r,t,i=!1){if(Hn(r.app))return Promise.reject(as(r));const a=ql(r),l=Qw(a,t),d=await new Zw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const s2=600*1e3;class r2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!a2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!aE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=s2&&this.cachedEventUids.clear(),this.cachedEventUids.has(rv(t))}saveEventToCache(t){this.cachedEventUids.add(rv(t)),this.lastProcessedEventTime=Date.now()}}function rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function aE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function a2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aE(r);default:return!1}}async function o2(r,t={}){return ho(r,"GET","/v1/projects",t)}const l2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u2=/^https?/;async function c2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await o2(r);for(const i of t)try{if(h2(i))return}catch{}ls(r,"unauthorized-domain")}function h2(r){const t=Kd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!u2.test(i))return!1;if(l2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const f2=new Bl(3e4,6e4);function av(){const r=Di().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function d2(r){return new Promise((t,i)=>{function a(){av(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{av(),i(xi(r,"network-request-failed"))},timeout:f2.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)a();else{const l=mw("iframefcb");return Di()[l]=()=>{gapi.load?a():i(xi(r,"network-request-failed"))},fw(`${dw()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function m2(r){return Mc=Mc||d2(r),Mc}const p2=new Bl(5e3,15e3),g2="__/auth/iframe",y2="emulator/auth/iframe",_2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E2(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?_m(t,y2):`https://${r.config.authDomain}/${g2}`,a={apiKey:t.apiKey,appName:r.name,v:co},l=v2.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${jl(a).slice(1)}`}async function T2(r){const t=await m2(r),i=Di().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:E2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_2,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=xi(r,"network-request-failed"),g=Di().setTimeout(()=>{h(d)},p2.get());function v(){Di().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{h(d)})}))}const b2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A2=500,S2=600,w2="_blank",R2="http://localhost";class ov{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(r,t,i,a=A2,l=S2){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...b2,width:a.toString(),height:l.toString(),top:h,left:d},_=sn().toLowerCase();i&&(g=j0(_)?w2:i),P0(_)&&(t=t||R2,v.scrollbars="yes");const b=Object.entries(v).reduce((M,[X,Z])=>`${M}${X}=${Z},`,"");if(sw(_)&&g!=="_self")return I2(t||"",g),new ov(null);const S=window.open(t||"",g,b);vt(S,r,"popup-blocked");try{S.focus()}catch{}return new ov(S)}function I2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const N2="__/auth/handler",x2="emulator/auth/handler",D2=encodeURIComponent("fac");async function lv(r,t,i,a,l,h){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof X0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",CA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Gl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),_=v?`#${D2}=${encodeURIComponent(v)}`:"";return`${O2(r)}?${jl(g).slice(1)}${_}`}function O2({config:r}){return r.emulator?_m(r,x2):`https://${r.authDomain}/${N2}`}const Md="webStorageSupport";class V2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=i2,this._overrideRedirectResult=t2}async _openPopup(t,i,a,l){us(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await lv(t,i,a,Kd(),l);return C2(t,h,Am())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await lv(t,i,a,Kd(),l);return Uw(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(us(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await T2(t),a=new r2(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Md,{type:Md},l=>{const h=l?.[0]?.[Md];h!==void 0&&i(!!h),ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=c2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return F0()||z0()||Tm()}}const M2=V2;var uv="@firebase/auth",cv="1.12.0";class k2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function U2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L2(r){io(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q0(r)},_=new cw(a,l,h,v);return gw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),io(new Yr("auth-internal",t=>{const i=ql(t.getProvider("auth").getImmediate());return(a=>new k2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(uv,cv,U2(r)),nr(uv,cv,"esm2020")}const P2=300,z2=T0("authIdTokenMaxAge")||P2;let hv=null;const j2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>z2)return;const l=i?.token;hv!==l&&(hv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function B2(r=C0()){const t=gm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=pw(r,{popupRedirectResolver:M2,persistence:[Fw,Vw,tE]}),a=T0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=j2(h.toString());Nw(i,d,()=>d(i.currentUser)),Iw(i,g=>d(g))}}const l=v0("auth");return l&&yw(i,`http://${l}`),i}function H2(){return document.getElementsByTagName("head")?.[0]??document}hw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=xi("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",H2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L2("Browser");var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,oE;(function(){var r;function t(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,x,U){for(var w=Array(arguments.length-2),te=2;te<arguments.length;te++)w[te-2]=arguments[te];return A.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)V[x]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],x=N.g[2];let U=N.g[3],w;w=A+(U^I&(x^U))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(x^A&(I^x))+V[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(I^U&(A^I))+V[2]+606105819&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(A^x&(U^A))+V[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(U^I&(x^U))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(x^A&(I^x))+V[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(I^U&(A^I))+V[6]+2821735955&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(A^x&(U^A))+V[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(U^I&(x^U))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(x^A&(I^x))+V[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(I^U&(A^I))+V[10]+4294925233&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(A^x&(U^A))+V[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(U^I&(x^U))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(x^A&(I^x))+V[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(I^U&(A^I))+V[14]+2792965006&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(A^x&(U^A))+V[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(x^U&(I^x))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(A^I))+V[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(U^A))+V[11]+643717713&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(x^U))+V[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^U&(I^x))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(A^I))+V[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(U^A))+V[15]+3634488961&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(x^U))+V[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^U&(I^x))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(A^I))+V[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(U^A))+V[3]+4107603335&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(x^U))+V[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^U&(I^x))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(A^I))+V[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(U^A))+V[7]+1735328473&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(x^U))+V[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(I^x^U)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^x)+V[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^I)+V[11]+1839030562&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^A)+V[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^U)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^x)+V[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^I)+V[7]+4139469664&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^A)+V[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^U)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^x)+V[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^I)+V[3]+3572445317&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^A)+V[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^U)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^x)+V[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^I)+V[15]+530742520&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^A)+V[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(x^(I|~U))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~x))+V[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~I))+V[14]+2878612391&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~A))+V[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~U))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~x))+V[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~I))+V[10]+4293915773&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~A))+V[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~U))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~x))+V[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~I))+V[6]+2734768916&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~A))+V[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~U))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~x))+V[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~I))+V[2]+718787259&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,V=this.C;let x=this.h,U=0;for(;U<A;){if(x==0)for(;U<=I;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(V[x++]=N.charCodeAt(U++),x==this.blockSize){l(this,V),x=0;break}}else for(;U<A;)if(V[x++]=N[U++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[A++]=this.g[I]>>>V&255;return N};function h(N,A){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function d(N,A){this.h=A;const I=[];let V=!0;for(let x=N.length-1;x>=0;x--){const U=N[x]|0;V&&U==A||(I[x]=U,V=!1)}this.g=I}var g={};function v(N){return-128<=N&&N<128?h(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return nt(_(-N));const A=[];let I=1;for(let V=0;N>=I;V++)A[V]=N/I|0,I*=4294967296;return new d(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return nt(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let V=S;for(let U=0;U<N.length;U+=8){var x=Math.min(8,N.length-U);const w=parseInt(N.substring(U,U+x),A);x<8?(x=_(Math.pow(A,x)),V=V.j(x).add(_(w))):(V=V.j(I),V=V.add(_(w)))}return V}var S=v(0),M=v(1),X=v(16777216);r=d.prototype,r.m=function(){if(it(this))return-nt(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(it(this))return"-"+nt(this).toString(N);const A=_(Math.pow(N,6));var I=this;let V="";for(;;){const x=jt(I,A).g;I=mt(I,x.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=x,Z(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function it(N){return N.h==-1}r.l=function(N){return N=mt(this,N),it(N)?-1:Z(N)?0:1};function nt(N){const A=N.g.length,I=[];for(let V=0;V<A;V++)I[V]=~N.g[V];return new d(I,~N.h).add(M)}r.abs=function(){return it(this)?nt(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let x=0;x<=A;x++){let U=V+(this.i(x)&65535)+(N.i(x)&65535),w=(U>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);V=w>>>16,U&=65535,w&=65535,I[x]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(N,A){return N.add(nt(A))}r.j=function(N){if(Z(this)||Z(N))return S;if(it(this))return it(N)?nt(this).j(nt(N)):nt(nt(this).j(N));if(it(N))return nt(this.j(nt(N)));if(this.l(X)<0&&N.l(X)<0)return _(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<N.g.length;x++){const U=this.i(V)>>>16,w=this.i(V)&65535,te=N.i(x)>>>16,pe=N.i(x)&65535;I[2*V+2*x]+=w*pe,ct(I,2*V+2*x),I[2*V+2*x+1]+=U*pe,ct(I,2*V+2*x+1),I[2*V+2*x+1]+=w*te,ct(I,2*V+2*x+1),I[2*V+2*x+2]+=U*te,ct(I,2*V+2*x+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new d(I,0)};function ct(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function Et(N,A){this.g=N,this.h=A}function jt(N,A){if(Z(A))throw Error("division by zero");if(Z(N))return new Et(S,S);if(it(N))return A=jt(nt(N),A),new Et(nt(A.g),nt(A.h));if(it(A))return A=jt(N,nt(A)),new Et(nt(A.g),A.h);if(N.g.length>30){if(it(N)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(N)<=0;)I=Qt(I),V=Qt(V);var x=Ot(I,1),U=Ot(V,1);for(V=Ot(V,2),I=Ot(I,2);!Z(V);){var w=U.add(V);w.l(N)<=0&&(x=x.add(I),U=w),V=Ot(V,1),I=Ot(I,1)}return A=mt(N,x.j(A)),new Et(x,A)}for(x=S;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),w=U.j(A);it(w)||w.l(N)>0;)I-=V,U=_(I),w=U.j(A);Z(U)&&(U=M),x=x.add(U),N=mt(N,w)}return new Et(x,N)}r.B=function(N){return jt(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function Qt(N){const A=N.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Ot(N,A){const I=A>>5;A%=32;const V=N.g.length-I,x=[];for(let U=0;U<V;U++)x[U]=A>0?N.i(U+I)>>>A|N.i(U+I+1)<<32-A:N.i(U+I);return new d(x,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,oE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,ir=d}).apply(typeof fv<"u"?fv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lE,El,uE,kc,Jd,cE,hE,fE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)W[Rt-2]=arguments[Rt];return m.prototype[L].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const B=L.length||0;u.length=y+B;for(let W=0;W<B;W++)u[y+W]=L[W]}else u.push(L)}}class it{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ct{constructor(){this.h=this.g=null}add(m,y){const T=Et.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var Et=new it(()=>new jt,u=>u.reset());class jt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Qt,Ot=!1,N=new ct,A=()=>{const u=Promise.resolve(void 0);Qt=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(y){nt(y)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(te,x),te.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function qt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<K.length;B++)y=K[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,y,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=wt(u,m,T,L);return W>-1?(m=u[W],y||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function _t(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function wt(u,m,y,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),re={};function oe(u,m,y,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)oe(u,m[B],y,T,L);return null}return y=dr(y),u&&u[pe]?u.J(m,y,g(T)?!!T.capture:!1,L):He(u,m,y,!1,T,L)}function He(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");const W=g(L)?!!L.capture:!!L;let Rt=Pi(u);if(Rt||(u[Mt]=Rt=new rt(u)),y=Rt.add(m,y,T,W,B),y.proxy)return y;if(T=ms(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(In(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ms(){function u(y){return m.call(u.src,u.listener,y)}const m=hr;return u}function Li(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Li(u,m[B],y,T,L);else T=g(T)?!!T.capture:!!T,y=dr(y),u&&u[pe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=wt(m,y,T,L),y>-1&&(ht(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Pi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,y,T,L)),(y=u>-1?m[u]:null)&&ps(y))}function ps(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])_t(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(In(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Pi(m))?(_t(y,u),y.h==0&&(y.src=null,m[Mt]=null)):ht(u)}}}function In(u){return u in re?re[u]:re[u]="on"+u}function hr(u,m){if(u.da)u=!0;else{m=new te(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&ps(u),u=y.call(T,m)}return u}function Pi(u){return u=u[Mt],u instanceof rt?u:null}var fr="__closure_events_fn_"+(Math.random()*1e9>>>0);function dr(u){return typeof u=="function"?u:(u[fr]||(u[fr]=function(m){return u.handleEvent(m)}),u[fr])}function ge(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ge,V),ge.prototype[pe]=!0,ge.prototype.removeEventListener=function(u,m,y,T){Li(this,u,m,y,T)};function q(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),et(m,L)}L=!0;let B,W;if(y)for(W=y.length-1;W>=0;W--)B=m.g=y[W],L=gt(B,T,!0,m)&&L;if(B=m.g=u,L=gt(B,T,!0,m)&&L,L=gt(B,T,!1,m)&&L,y)for(W=0;W<y.length;W++)B=m.g=y[W],L=gt(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ht(y[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ge.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function gt(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==y){const Rt=W.listener,Ee=W.ha||W.src;W.fa&&_t(u.i,W),L=Rt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function st(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function bt(u){u.g=st(()=>{u.g=null,u.i&&(u.i=!1,bt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Nt extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(u){V.call(this),this.h=u,this.g={}}S(Ze,V);var Fn=[];function gs(u){Vt(u.g,function(m,y){this.g.hasOwnProperty(y)&&ps(m)},u),u.g={}}Ze.prototype.N=function(){Ze.Z.N.call(this),gs(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var an=d.JSON.stringify,un=d.JSON.parse,mr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ia(){}function Zl(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){x.call(this,"d")}S(qe,x);function Nn(){x.call(this,"c")}S(Nn,x);var ve={},Wl=null;function sa(){return Wl=Wl||new ge}ve.Ia="serverreachability";function tu(u){x.call(this,ve.Ia,u)}S(tu,x);function li(u){const m=sa();q(m,new tu(m))}ve.STAT_EVENT="statevent";function pr(u,m){x.call(this,ve.STAT_EVENT,u),this.stat=m}S(pr,x);function Se(u){const m=sa();q(m,new pr(m,u))}ve.Ja="timingevent";function ui(u,m){x.call(this,ve.Ja,u),this.size=m}S(ui,x);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Ah(u,m,y,T,L,B){u.info(function(){if(u.g)if(B){var W="",Rt=B.split("&");for(let Kt=0;Kt<Rt.length;Kt++){var Ee=Rt[Kt].split("=");if(Ee.length>1){const fe=Ee[0];Ee=Ee[1];const Vn=fe.split("_");W=Vn.length>=2&&Vn[1]=="type"?W+(fe+"="+Ee+"&"):W+(fe+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+W})}function eu(u,m,y,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+W})}function hi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,y)+(T?" "+T:"")})}function gr(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return an(B)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function _r(){}S(_r,ia),_r.prototype.g=function(){return new XMLHttpRequest},vo=new _r;function zi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Yn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Ze(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var we={},Pe={};function fi(u,m,y){u.M=1,u.A=vr(Ce(m)),u.u=y,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),di(u),u.B=Ce(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ua(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Xn,u.g=yu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Nt(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Fn[0]=L.toString()),L=Fn);for(let B=0;B<L.length;B++){const W=oe(y,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),Ah(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Zn(this.g),Ee=this.g.ya(),Kt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Rt!=4||Ee==7||(Ee==8||Kt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var y=wh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,Se(12),vn(this),xn(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<y.length;)if(fe=su(this,y),fe==Pe){Rt==4&&(this.m=4,Se(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==we){this.m=4,Se(15),hi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,fe,null),pi(this,fe);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||y.length!=0||this.h.h||(this.m=1,Se(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,y,"[Invalid Chunked Response]"),vn(this),xn(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Mo(W),W.P=!0,Se(11))}}else hi(this.i,this.l,y,null),pi(this,y);Rt==4&&vn(this),this.o&&!this.K&&(Rt==4?du(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),vn(this),xn(this)}}}catch{}};function wh(u){if(!iu(u))return u.g.la();const m=Ge(u.g);if(m==="")return"";let y="";const T=m.length,L=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),xn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Pe:(y=Number(m.substring(y,T)),isNaN(y)?we:(T+=1,T+y>m.length?Pe:(m=m.slice(T,T+y),u.C=T+y,m)))}Yn.prototype.cancel=function(){this.K=!0,vn(this)};function di(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(_(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gr(this.i,this.B),this.M!=2&&(li(),Se(17)),vn(this),this.m=2,xn(this)):aa(this,this.T-u)};function xn(u){u.j.I==0||u.K||du(u.j,u)}function vn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,gs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||yi(y.h,u))){if(!u.L&&yi(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ma(y),Ss(y);else break t;Rr(y),Se(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ci(_(y.Va,y),6e3));gi(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ai(y,11)}else if((u.L||y.g==u)&&ma(y),!w(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const fe=Kt[0];if(!(fe<=y.K))if(y.K=fe,Kt=Kt[1],y.I==2)if(Kt[0]=="c"){y.M=Kt[1],y.ba=Kt[2];const Vn=Kt[3];Vn!=null&&(y.ka=Vn,y.j.info("VER="+y.ka));const Si=Kt[4];Si!=null&&(y.za=Si,y.j.info("SVER="+y.za));const Wn=Kt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ti=u.g;if(ti){const Cr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var B=T.h;B.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bo(B,B.h),B.h=null))}if(T.G){const pa=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(T.wa=pa,Jt(T.J,T.G,pa))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var W=u;if(T.na=gu(T,T.L?T.ba:null,T.W),W.L){Ao(T.h,W);var Rt=W,Ee=T.O;Ee&&(Rt.H=Ee),Rt.D&&(mi(Rt),di(Rt)),T.g=W}else hu(T);y.i.length>0&&bi(y)}else Kt[0]!="stop"&&Kt[0]!="close"||Ai(y,7);else y.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ai(y,7):Oo(y):Kt[0]!="noop"&&y.l&&y.l.qa(Kt),y.A=0)}}li(4)}catch{}}var Re=class{constructor(u,m){this.g=u,this.map=m}};function Eo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bo(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Eo.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return X(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,B=null;T>=0?(L=u[y].substring(0,T),B=u[y].substring(T+1)):L=u[y],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,ys(this,u.u),this.h=u.h,wo(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,ze(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ys(this,m[4]),this.h=_i(m[5]||"",!0),wo(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,la,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,la,!0),"@"),u.push(zi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Er(y,y.charAt(0)=="/"?Ro:au,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Er(y,ou)),u.join("")},En.prototype.resolve=function(u){const m=Ce(this);let y=!!u.j;y?ze(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ys(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const Rt=L[W++];Rt=="."?T&&W==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(Rt),T=!0)}T=B.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?wo(m,uu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Ce(u){return new En(u)}function ze(u,m,y){u.j=y?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ys(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wo(u,m,y){m instanceof vs?(u.i=m,ca(u.i,u.l)):(y||(m=Er(m,_s)),u.i=new vs(m,u.l))}function Jt(u,m,y){u.i.set(m,y)}function vr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,au=/[#\?:]/g,Ro=/[#\?]/g,_s=/[#\?@]/g,ou=/#/g;function vs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=vs.prototype,r.add=function(u,m){hn(this),this.i=null,u=Es(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function lu(u,m){hn(u),m=Es(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return hn(u),m=Es(u,m),u.g.has(m)}r.forEach=function(u,m){hn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Io(u,m){hn(u);let y=[];if(typeof m=="string")Co(u,m)&&(y=y.concat(u.g.get(Es(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return hn(this),this.i=null,u=Es(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,y){lu(u,m),y.length>0&&(u.i=null,u.g.set(Es(u,m),X(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=zi(y);y=Io(this,y);for(let B=0;B<y.length;B++){let W=L;y[B]!==""&&(W+="="+zi(y[B])),u.push(W)}}return this.i=u.join("&")};function uu(u){const m=new vs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Es(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(lu(this,T),ua(this,L,y))},u)),u.j=m}function Jn(u,m){const y=new Kn;if(d.Image){const T=new Image;T.onload=b(Dn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Dn,y,"TestLoadImage: error",!1,m,T),T.onabort=b(Dn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Dn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function No(u,m){const y=new Kn,T=new AbortController,L=setTimeout(()=>{T.abort(),Dn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Dn(y,"TestPingServer: ok",!0,m):Dn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(y,"TestPingServer: error",!1,m)})}function Dn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function Ts(){this.g=new mr}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(vi,ia),vi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Tr,ge),r=Tr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bs(this):$n(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,bs(this))},r.Na=function(u){this.g&&(this.response=u,bs(this))},r.ga=function(){this.g&&bs(this)};function bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Vt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function br(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=On(y),typeof u=="string"?y!=null&&zi(y):Jt(u,m,y))}function ee(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ee,ge);var Ei=/^https?$/i,xo=["POST","PUT"];r=ee.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ar(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of y)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ar(this,B)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Do(u),ji(u)}function Do(u){u.A||(u.A=!0,q(u,"complete"),q(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,q(this,"complete"),q(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Sr(this):this.Xa())},r.Xa=function(){Sr(this)};function Sr(u){if(u.h&&typeof h<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(q(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let W=String(u.D).match(ru)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ei.test(W?W.toLowerCase():"")}y=T}if(y)q(u,"complete"),q(u,"success");else{u.o=6;try{var L=Zn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Do(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||q(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),un(m)}};function Ge(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=nu(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}qt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function As(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(u&&u.concurrentRequestLimit),this.Ba=new Ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=As.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){Se(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=gu(this,null,this.W),bi(this)};function Oo(u){if(fa(u),u.I==3){var m=u.V++,y=Ce(u.J);if(Jt(y,"SID",u.M),Jt(y,"RID",m),Jt(y,"TYPE","terminate"),wr(u,y),m=new Yn(u,u.j,m),m.M=2,m.A=vr(Ce(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}pu(u)}function Ss(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function fa(u){Ss(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!To(u.h)&&!u.m){u.m=!0;var m=u.Ea;Qt||A(),Ot||(Qt(),Ot=!0),N.add(m,u),u.D=0}}function da(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(_(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),y=Ce(this.J),Jt(y,"RID",u),Jt(y,"CVER",22),this.G&&Jt(y,"X-HTTP-Session-Id",this.G),wr(this,y),B&&(this.R?m="headers="+zi(On(B))+"&"+m:this.u&&br(y,this.u,B)),bo(this.h,L),this.Ra&&Jt(y,"TYPE","init"),this.S?(Jt(y,"$req",m),Jt(y,"SID","null"),L.U=!0,fi(L,y,null)):fi(L,y,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||To(this.h)||Vo(this))};function Vo(u,m){var y;m?y=m.l:y=u.V++;const T=Ce(u.J);Jt(T,"SID",u.M),Jt(T,"RID",y),Jt(T,"AID",u.K),wr(u,T),u.u&&u.o&&br(T,u.u,u.o),y=new Yn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bo(u.h,y),fi(y,T,m)}function wr(u,m){u.H&&Vt(u.H,function(y,T){Jt(m,T,y)}),u.l&&Vt({},function(y,T){Jt(m,T,y)})}function cu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const Ee=["count="+y];Rt==-1?y>0?(Rt=L[0].g,Ee.push("ofs="+Rt)):Rt=0:Ee.push("ofs="+Rt);let Kt=!0;for(let fe=0;fe<y;fe++){var B=L[fe].g;const Vn=L[fe].map;if(B-=Rt,B<0)Rt=Math.max(0,L[fe].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var W=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Si,Wn]of W){let ti=Wn;g(Wn)&&(ti=an(Wn)),Ee.push(B+Si+"="+encodeURIComponent(ti))}}catch(Si){throw Ee.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(Vn)}}if(Kt){W=Ee.join("&");break t}}W=void 0}return u=u.i.splice(0,y),m.G=u,W}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Qt||A(),Ot||(Qt(),Ot=!0),N.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(_(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Ss(this),fu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&br(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=vr(Ce(m)),y.u=null,y.R=!0,ra(y,u)}r.Va=function(){this.C!=null&&(this.C=null,Ss(this),Rr(this),Se(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var y=null;if(u.g==m){ma(u),Mo(u),u.g=null;var T=2}else if(yi(u.h,m))y=m.G,Ao(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=sa(),q(T,new ui(T,y)),bi(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&da(u,m)||T==2&&Rr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function mu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new En(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),vr(T),L?Jn(T.toString(),y):No(T.toString(),y)}else Se(2);u.I=0,u.l&&u.l.pa(m),pu(u),fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,y){var T=y instanceof En?Ce(y):new En(y);if(T.g!="")m&&(T.g=m+"."+T.g),ys(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new En(null);T&&ze(B,T),m&&(B.g=m),L&&ys(B,L),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Jt(T,y,m),Jt(T,"VER",u.ka),wr(u,T),T}function yu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new vi({ab:y})):new ee(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ws(){}ws.prototype.g=function(u,m){return new on(u,m)};function on(u,m){ge.call(this),this.g=new As(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hi(this)}S(on,ge),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Oo(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=an(u),u=y);m.i.push(new Re(m.Ya++,u)),m.I==3&&bi(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,on.Z.N.call(this)};function vu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(vu,qe);function Eu(){Nn.call(this),this.status=1}S(Eu,Nn);function Hi(u){this.g=u}S(Hi,_u),Hi.prototype.ra=function(){q(this.g,"a")},Hi.prototype.qa=function(u){q(this.g,new vu(u))},Hi.prototype.pa=function(u){q(this.g,new Eu)},Hi.prototype.oa=function(){q(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,fE=function(){return new ws},hE=function(){return sa()},cE=ve,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,kc=yr,_o.COMPLETE="complete",uE=_o,Zl.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,El=Zl,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,lE=ee}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let fo="12.9.0";function q2(r){fo=r}const Jr=new mm("@firebase/firestore");function Fa(){return Jr.logLevel}function at(r,...t){if(Jr.logLevel<=Lt.DEBUG){const i=t.map(wm);Jr.debug(`Firestore (${fo}): ${r}`,...i)}}function hs(r,...t){if(Jr.logLevel<=Lt.ERROR){const i=t.map(wm);Jr.error(`Firestore (${fo}): ${r}`,...i)}}function $r(r,...t){if(Jr.logLevel<=Lt.WARN){const i=t.map(wm);Jr.warn(`Firestore (${fo}): ${r}`,...i)}}function wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,dE(r,a,i)}function dE(r,t,i){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw hs(a),new Error(a)}function Xt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||dE(t,l,a)}function St(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ds{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class mE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class G2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class F2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Q2{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Fr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Fr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new mE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class K2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Y2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new K2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new dv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function J2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=J2(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function Pt(r,t){return r<t?-1:r>t?1:0}function $d(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return kd(l)===kd(h)?Pt(l,h):kd(l)?1:-1}return Pt(r.length,t.length)}const $2=55296,Z2=57343;function kd(r){const t=r.charCodeAt(0);return t>=$2&&t<=Z2}function so(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const mv="__name__";class Ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=Ni.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Ni.isNumericId(t),l=Ni.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):$d(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ir.fromString(t.substring(4,t.length-2))}}class le extends Ni{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ni{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return W2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mv}static keyField(){return new Je([mv])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(h(),l++)}if(h(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(le.fromString(t))}static fromName(t){return new dt(le.fromString(t).popFirst(5))}static empty(){return new dt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new le(t.slice()))}}function pE(r,t,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function tR(r,t,i,a){if(t===!0&&a===!0)throw new ot(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function pv(r){if(!dt.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gv(r){if(dt.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ch(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Wa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ch(r);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Me(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ql(r,t){if(!gE(r))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}const yv=-62135596800,_v=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*_v);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<yv)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Me("string",he._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new he(0,0))}static max(){return new Tt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function eR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new rr(l,dt.empty(),t)}function nR(r){return new rr(r.readTime,r.key,Ol)}class rr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rr(Tt.min(),dt.empty(),Ol)}static max(){return new rr(Tt.max(),dt.empty(),Ol)}}function iR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Pt(r.largestBatchId,t.largestBatchId))}const sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==sR)throw r;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,h=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++h,d&&h===l&&i()}),(v=>a(v)))})),d=!0,h===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const h=t.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((b=>{d[_]=b,++g,g===h&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):a()};h()}))}}function aR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Cm=-1;function fh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function oR(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const yE="";function lR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=vv(t)),t=uR(r.get(i),t);return vv(t)}function uR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":i+="";break;case yE:i+="";break;default:i+=h}}return i}function vv(r){return r+yE+""}function Ev(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Wr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function _E(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||Xe.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??Xe.RED,this.left=l??Xe.EMPTY,this.right=h??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new Xe(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Xe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new Xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(t){return new Tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class Tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new ri([])}unionWith(t){let i=new Le(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ri(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new vE("Invalid base64 string: "+h):h}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const cR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const i=cR.exec(r);if(Xt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function or(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}const EE="server_timestamp",TE="__type__",bE="__previous_value__",AE="__local_write_time__";function Im(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===EE}function dh(r){const t=r.mapValue.fields[bE];return Im(t)?dh(t):t}function Vl(r){const t=ar(r.mapValue.fields[AE].timestampValue);return new he(t.seconds,t.nanos)}class hR{constructor(t,i,a,l,h,d,g,v,_,b,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=S}}const Jc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}function fR(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(r.options.projectId,t)}const SE="__type__",dR="__max__",Ic={mapValue:{}},wE="__vector__",$c="value";function lr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Im(r)?4:pR(r)?9007199254740991:mR(r)?10:11:yt(28295,{value:r})}function Ui(r,t){if(r===t)return!0;const i=lr(r);if(i!==lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=ar(l.timestampValue),g=ar(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,h){return or(l.bytesValue).isEqual(or(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,h){return Ae(l.geoPointValue.latitude)===Ae(h.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(h.geoPointValue.longitude)})(r,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return Ae(l.integerValue)===Ae(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Ae(l.doubleValue),g=Ae(h.doubleValue);return d===g?Xc(d)===Xc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return so(r.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(Ev(d)!==Ev(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ui(d[v],g[v])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((i=>Ui(i,t)))!==void 0}function ro(r,t){if(r===t)return 0;const i=lr(r),a=lr(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(h,d){const g=Ae(h.integerValue||h.doubleValue),v=Ae(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return bv(r.timestampValue,t.timestampValue);case 4:return bv(Vl(r),Vl(t));case 5:return $d(r.stringValue,t.stringValue);case 6:return(function(h,d){const g=or(h),v=or(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const b=Pt(g[_],v[_]);if(b!==0)return b}return Pt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,d){const g=Pt(Ae(h.latitude),Ae(d.latitude));return g!==0?g:Pt(Ae(h.longitude),Ae(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Av(r.arrayValue,t.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[$c]?.arrayValue,b=v[$c]?.arrayValue,S=Pt(_?.values?.length||0,b?.values?.length||0);return S!==0?S:Av(_,b)})(r.mapValue,t.mapValue);case 11:return(function(h,d){if(h===Ic.mapValue&&d===Ic.mapValue)return 0;if(h===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let S=0;S<v.length&&S<b.length;++S){const M=$d(v[S],b[S]);if(M!==0)return M;const X=ro(g[v[S]],_[b[S]]);if(X!==0)return X}return Pt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function bv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const i=ar(r),a=ar(t),l=Pt(i.seconds,a.seconds);return l!==0?l:Pt(i.nanos,a.nanos)}function Av(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=ro(i[l],a[l]);if(h)return h}return Pt(i.length,a.length)}function ao(r){return Zd(r)}function Zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ar(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return or(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Zd(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${Zd(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Uc(r){switch(lr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return or(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+Uc(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Wr(a.fields,((h,d)=>{l+=h.length+Uc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function Sv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Wd(r){return!!r&&"integerValue"in r}function Nm(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function mR(r){return(r?.mapValue?.fields||{})[SE]?.stringValue===wE}function Rl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Wr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Rl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(r.arrayValue.values[i]);return t}return{...r}}function pR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dR}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Rl(d):l.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Wr(i,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new qn(Rl(this.value))}}function RE(r){const t=[];return Wr(r.fields,((i,a)=>{const l=new Je([i]);if(Lc(a)){const h=RE(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new ri(t)}class nn{constructor(t,i,a,l,h,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new nn(t,0,Tt.min(),Tt.min(),Tt.min(),qn.empty(),0)}static newFoundDocument(t,i,a,l){return new nn(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new nn(t,2,i,Tt.min(),Tt.min(),qn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,Tt.min(),Tt.min(),qn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function Cv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],d=r.position[l];if(h.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=ro(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Iv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ui(r.position[i],t.position[i]))return!1;return!0}class Wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function gR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class CE{}class Ve extends CE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new _R(t,i,a):i==="array-contains"?new TR(t,a):i==="in"?new bR(t,a):i==="not-in"?new AR(t,a):i==="array-contains-any"?new SR(t,a):new Ve(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new vR(t,a):new ER(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&lr(this.value)===lr(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends CE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new oi(t,i)}matches(t){return IE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IE(r){return r.op==="and"}function NE(r){return yR(r)&&IE(r)}function yR(r){for(const t of r.filters)if(t instanceof oi)return!1;return!0}function tm(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(NE(r))return r.filters.map((t=>tm(t))).join(",");{const t=r.filters.map((i=>tm(i))).join(",");return`${r.op}(${t})`}}function xE(r,t){return r instanceof Ve?(function(a,l){return l instanceof Ve&&a.op===l.op&&a.field.isEqual(l.field)&&Ui(a.value,l.value)})(r,t):r instanceof oi?(function(a,l){return l instanceof oi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,g)=>h&&xE(d,l.filters[g])),!0):!1})(r,t):void yt(19439)}function DE(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(r):r instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(DE).join(" ,")+"}"})(r):"Filter"}class _R extends Ve{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class vR extends Ve{constructor(t,i){super(t,"in",i),this.keys=OE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class ER extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=OE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function OE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class TR extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Nm(i)&&kl(i.arrayValue,this.value)}}class bR extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class AR extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class SR extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>kl(this.value.arrayValue,a)))}}class wR{constructor(t,i=null,a=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Nv(r,t=null,i=[],a=[],l=null,h=null,d=null){return new wR(r,t,i,a,l,h,d)}function xm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>tm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ao(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ao(a))).join(",")),t.Te=i}return t.Te}function Dm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!gR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!xE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Iv(r.startAt,t.startAt)&&Iv(r.endAt,t.endAt)}function em(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Kl{constructor(t,i=null,a=[],l=[],h=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function RR(r,t,i,a,l,h,d,g){return new Kl(r,t,i,a,l,h,d,g)}function Om(r){return new Kl(r)}function xv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function CR(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function VE(r){return r.collectionGroup!==null}function Cl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Le(Je.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Wc(h,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new Wc(Je.keyField(),a))}return t.Ie}function Oi(r){const t=St(r);return t.Ee||(t.Ee=IR(t,Cl(r))),t.Ee}function IR(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Wc(l.field,h)}));const i=r.endAt?new Zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Zc(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function nm(r,t){const i=r.filters.concat([t]);return new Kl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function im(r,t,i){return new Kl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function mh(r,t){return Dm(Oi(r),Oi(t))&&r.limitType===t.limitType}function ME(r){return`${xm(Oi(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>DE(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ao(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ao(l))).join(",")),`Target(${a})`})(Oi(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):dt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,l){for(const h of Cl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const _=Cv(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,Cl(a),l)||a.endAt&&!(function(d,g,v){const _=Cv(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,Cl(a),l))})(r,t)}function NR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function kE(r){return(t,i)=>{let a=!1;for(const l of Cl(r)){const h=xR(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function xR(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?ro(v,_):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Wr(this.inner,((i,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const DR=new me(dt.comparator);function fs(){return DR}const UE=new me(dt.comparator);function Tl(...r){let t=UE;for(const i of r)t=t.insert(i.key,i);return t}function LE(r){let t=UE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Gr(){return Il()}function PE(){return Il()}function Il(){return new ta((r=>r.toString()),((r,t)=>r.isEqual(t)))}const OR=new me(dt.comparator),VR=new Le(dt.comparator);function zt(...r){let t=VR;for(const i of r)t=t.add(i);return t}const MR=new Le(Pt);function kR(){return MR}function Vm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function zE(r){return{integerValue:""+r}}function UR(r,t){return oR(t)?zE(t):Vm(r,t)}class gh{constructor(){this._=void 0}}function LR(r,t,i){return r instanceof th?(function(l,h){const d={fields:{[TE]:{stringValue:EE},[AE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Im(h)&&(h=dh(h)),h&&(d.fields[bE]=h),{mapValue:d}})(i,t):r instanceof Ul?BE(r,t):r instanceof Ll?HE(r,t):(function(l,h){const d=jE(l,h),g=Dv(d)+Dv(l.Ae);return Wd(d)&&Wd(l.Ae)?zE(g):Vm(l.serializer,g)})(r,t)}function PR(r,t,i){return r instanceof Ul?BE(r,t):r instanceof Ll?HE(r,t):i}function jE(r,t){return r instanceof eh?(function(a){return Wd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class th extends gh{}class Ul extends gh{constructor(t){super(),this.elements=t}}function BE(r,t){const i=qE(t);for(const a of r.elements)i.some((l=>Ui(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends gh{constructor(t){super(),this.elements=t}}function HE(r,t){let i=qE(t);for(const a of r.elements)i=i.filter((l=>!Ui(l,a)));return{arrayValue:{values:i}}}class eh extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Dv(r){return Ae(r.integerValue||r.doubleValue)}function qE(r){return Nm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function zR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Ul&&l instanceof Ul||a instanceof Ll&&l instanceof Ll?so(a.elements,l.elements,Ui):a instanceof eh&&l instanceof eh?Ui(a.Ae,l.Ae):a instanceof th&&l instanceof th})(r.transform,t.transform)}class jR{constructor(t,i){this.version=t,this.transformResults=i}}class Vi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Vi}static exists(t){return new Vi(void 0,t)}static updateTime(t){return new Vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function GE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Mm(r.key,Vi.none()):new Yl(r.key,r.data,Vi.none());{const i=r.data,a=qn.empty();let l=new Le(Je.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new ea(r.key,a,new ri(l.toArray()),Vi.none())}}function BR(r,t,i){r instanceof Yl?(function(l,h,d){const g=l.value.clone(),v=Vv(l.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof ea?(function(l,h,d){if(!Pc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Vv(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(FE(l)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(r,t,i,a){return r instanceof Yl?(function(h,d,g,v){if(!Pc(h.precondition,d))return g;const _=h.value.clone(),b=Mv(h.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof ea?(function(h,d,g,v){if(!Pc(h.precondition,d))return g;const _=Mv(h.fieldTransforms,v,d),b=d.data;return b.setAll(FE(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(h,d,g){return Pc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function HR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=jE(a.transform,l||null);h!=null&&(i===null&&(i=qn.empty()),i.set(a.field,h))}return i||null}function Ov(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&so(a,l,((h,d)=>zR(h,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yl extends yh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ea extends yh{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function FE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;Xt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const h=r[l],d=h.transform,g=t.data.field(h.field);a.set(h.field,PR(d,g,i[l]))}return a}function Mv(r,t,i){const a=new Map;for(const l of r){const h=l.transform,d=i.data.field(l.field);a.set(l.field,LR(h,d,t))}return a}class Mm extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qR extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&BR(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=PE();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const v=GE(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((i,a)=>Ov(i,a)))&&so(this.baseMutations,t.baseMutations,((i,a)=>Ov(i,a)))}}class km{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return OR})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new km(t,i,a,l)}}class FR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Oe,Ht;function KR(r){switch(r){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function QE(r){if(r===void 0)return hs("GRPC error has no .code"),J.UNKNOWN;switch(r){case Oe.OK:return J.OK;case Oe.CANCELLED:return J.CANCELLED;case Oe.UNKNOWN:return J.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return J.INTERNAL;case Oe.UNAVAILABLE:return J.UNAVAILABLE;case Oe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Oe.NOT_FOUND:return J.NOT_FOUND;case Oe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Oe.ABORTED:return J.ABORTED;case Oe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Oe.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:r})}}(Ht=Oe||(Oe={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function YR(){return new TextEncoder}const XR=new ir([4294967295,4294967295],0);function kv(r){const t=YR().encode(r),i=new oE;return i.update(t),new Uint8Array(i.digest())}function Uv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new ir([i,a],0),new ir([l,h],0)]}class Um{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ir.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ir.fromNumber(a)));return l.compare(XR)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=kv(t),[a,l]=Uv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Um(h,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=kv(t),[a,l]=Uv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(Tt.min(),l,new me(Pt),fs(),zt())}}class Xl{constructor(t,i,a,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xl(a,i,zt(),zt(),zt())}}class zc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class KE{constructor(t,i){this.targetId=t,this.Ce=i}}class YE{constructor(t,i,a=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Lv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:h})}})),new Xl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Pv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class JR{constructor(t){this.Ge=t,this.ze=new Map,this.je=fs(),this.He=Nc(),this.Je=Nc(),this.Ze=new me(Pt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(em(h))if(a===0){const d=new dt(h.path);this.et(i,d,nn.newNoDocument(d,Tt.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=or(a).toUint8Array()}catch(v){if(v instanceof vE)return $r("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Um(d,l,h)}catch(v){return $r(v instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&em(g.target)){const v=new dt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,nn.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let a=zt();this.Je.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new _h(t,i,this.Ze,this.je,a);return this.je=fs(),this.He=Nc(),this.Je=Nc(),this.Ze=new me(Pt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Lv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Le(Pt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Le(Pt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Lv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new me(dt.comparator)}function Pv(){return new me(dt.comparator)}const $R={asc:"ASCENDING",desc:"DESCENDING"},ZR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WR={and:"AND",or:"OR"};class tC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function eC(r,t){return nh(r,t.toTimestamp())}function Mi(r){return Xt(!!r,49232),Tt.fromTimestamp((function(i){const a=ar(i);return new he(a.seconds,a.nanos)})(r))}function Lm(r,t){return rm(r,t).canonicalString()}function rm(r,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function JE(r){const t=le.fromString(r);return Xt(eT(t),10190,{key:t.toString()}),t}function am(r,t){return Lm(r.databaseId,t.path)}function Ud(r,t){const i=JE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(ZE(i))}function $E(r,t){return Lm(r.databaseId,t)}function nC(r){const t=JE(r);return t.length===4?le.emptyPath():ZE(t)}function om(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZE(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,t,i){return{name:am(r,t),fields:i.value.mapValue.fields}}function iC(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,b){return _.useProto3Json?(Xt(b===void 0||typeof b=="string",58123),$e.fromBase64String(b||"")):(Xt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),$e.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?J.UNKNOWN:QE(_.code);return new ot(b,_.message||"")})(d);i=new YE(a,l,h,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ud(r,a.document.name),h=Mi(a.document.updateTime),d=a.document.createTime?Mi(a.document.createTime):Tt.min(),g=new qn({mapValue:{fields:a.document.fields}}),v=nn.newFoundDocument(l,h,d,g),_=a.targetIds||[],b=a.removedTargetIds||[];i=new zc(_,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ud(r,a.document),h=a.readTime?Mi(a.readTime):Tt.min(),d=nn.newNoDocument(l,h),g=a.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ud(r,a.document),h=a.removedTargetIds||[];i=new zc([],h,l,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new QR(l,h),g=a.targetId;i=new KE(g,d)}}return i}function sC(r,t){let i;if(t instanceof Yl)i={update:zv(r,t.key,t.value)};else if(t instanceof Mm)i={delete:am(r,t.key)};else if(t instanceof ea)i={update:zv(r,t.key,t.data),updateMask:dC(t.fieldMask)};else{if(!(t instanceof qR))return yt(16599,{dt:t.type});i={verify:am(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:eC(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(r,t.precondition)),i}function rC(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((i=>(function(l,h){let d=l.updateTime?Mi(l.updateTime):Mi(h);return d.isEqual(Tt.min())&&(d=Mi(h)),new jR(d,l.transformResults||[])})(i,t)))):[]}function aC(r,t){return{documents:[$E(r,t.path)]}}function oC(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=$E(r,l);const h=(function(_){if(_.length!==0)return tT(oi.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:Ka(M.field),direction:cC(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=sm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function lC(r){let t=nC(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let h=[];i.where&&(h=(function(S){const M=WE(S);return M instanceof oi&&NE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(Z){return new Wc(Ya(Z.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let M;return M=typeof S=="object"?S.value:S,fh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(S){const M=!!S.before,X=S.values||[];return new Zc(X,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,X=S.values||[];return new Zc(X,M)})(i.endAt)),RR(t,l,d,h,g,"F",v,_)}function uC(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ya(i.unaryFilter.field);return Ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ya(i.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((a=>WE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function cC(r){return $R[r]}function hC(r){return ZR[r]}function fC(r){return WR[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Je.fromServerFormat(r.fieldPath)}function tT(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(wv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(wv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:hC(i.op),value:i.value}}})(r):r instanceof oi?(function(i){const a=i.getFilters().map((l=>tT(l)));return a.length===1?a[0]:{compositeFilter:{op:fC(i.op),filters:a}}})(r):yt(54877,{filter:r})}function dC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function eT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function nT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Ws{constructor(t,i,a,l,h=Tt.min(),d=Tt.min(),g=$e.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class mC{constructor(t){this.yt=t}}function pC(r){const t=lC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?im(t,t.limit,"L"):t}class gC{constructor(){this.Sn=new yC}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(rr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class yC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Le(le.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Le(le.comparator)).toArray()}}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iT=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(iT,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class oo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}const Bv="LruGarbageCollector",_C=1048576;function Hv([r,t],[i,a]){const l=Pt(r,i);return l===0?Pt(t,a):l}class vC{constructor(t){this.Pr=t,this.buffer=new Le(Hv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class EC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?at(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await mo(i)}await this.Ar(3e5)}))}}class TC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(hh.ce);const a=new vC(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,h,d,g,v,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Fa()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:S}))))}}function bC(r,t){return new TC(r,t)}class AC{constructor(){this.changes=new ta((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class SC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class wC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,ri.empty(),he.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Gr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((h=>{let d=Tl();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Gr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let h=fs();const d=Il(),g=(function(){return Il()})();return i.forEach(((v,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof ea)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Nl(b.mutation,_,b.mutation.getFieldMask(),he.now())):d.set(_.key,ri.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new SC(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Il();let l=new me(((d,g)=>d-g)),h=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let b=a.get(v)||ri.empty();b=g.applyToLocalView(_,b),a.set(v,b);const S=(l.get(g.batchId)||zt()).add(v);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,b=v.value,S=PE();b.forEach((M=>{if(!h.has(M)){const X=GE(i.get(M),a.get(M));X!==null&&S.set(M,X),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return CR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):VE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):$.resolve(Gr());let g=Ol,v=h;return d.next((_=>$.forEach(_,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{v=v.insert(b,M)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,zt()))).next((b=>({batchId:g,changes:LE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,h).next((g=>$.forEach(g,(v=>{const _=(function(S,M){return new Kl(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l)))).next((d=>{h.forEach(((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,nn.newInvalidDocument(b)))}));let g=Tl();return d.forEach(((v,_)=>{const b=h.get(v);b!==void 0&&Nl(b.mutation,_,ri.empty(),he.now()),ph(i,_)&&(g=g.insert(v,_))})),g}))}}class RC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:pC(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),$.resolve()}}class CC{constructor(){this.overlays=new me(dt.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Gr();return $.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,h)=>{this.bt(t,i,h)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Gr(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new me(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=h.get(_.largestBatchId);b===null&&(b=Gr(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=Gr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=l)););return $.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new FR(i,a));let h=this.Lr.get(i);h===void 0&&(h=zt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(a.key))}}class IC{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Pm{constructor(){this.kr=new Le(Be.Kr),this.qr=new Le(Be.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Be(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new le([])),a=new Be(i,t),l=new Be(i,t+1),h=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new le([])),a=new Be(i,t),l=new Be(i,t+1);let h=zt();return this.qr.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Be(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Pt(t.Hr,i.Hr)}static Ur(t,i){return Pt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class NC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Le(Be.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GR(h,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Be(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),h=l<0?0:l;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Cm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),l=new Be(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);h.push(g)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Le(Pt);return i.forEach((l=>{const h=new Be(l,0),d=new Be(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;dt.isDocumentKey(h)||(h=h.child(""));const d=new Be(new dt(h),0);let g=new Le(Pt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(v.Hr)),!0)}),d),$.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const h=new Be(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Be(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class xC{constructor(t){this.ti=t,this.docs=(function(){return new me(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=fs();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():nn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=fs();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||iR(nR(b),a)<=0||(l.has(b.key)||ph(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new DC(this)}getSize(t){return $.resolve(this.size)}}class DC extends AC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class OC{constructor(t){this.persistence=t,this.ri=new ta((i=>xm(i)),Dm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Pm,this.targetCount=0,this.oi=oo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(h).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class sT{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new IC,this.referenceDelegate=t(this),this.li=new OC(this),this.indexManager=new gC,this.remoteDocumentCache=(function(l){return new xC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new mC(i),this.Pi=new RC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new CC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new NC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new VC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class VC extends rR{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Ai=null}static Vi(t){return new zm(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((h=>{h||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.fi=new ta((a=>lR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=bC(this,i)}static Vi(t,i){return new ih(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((h=>h?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=zt(),l=zt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new jm(t,i.fromCache,a,l)}}class MC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class kC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return TA()?8:aR(sn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.gs(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(t,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new MC;return this.ys(t,i,d).next((g=>{if(h.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>h.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Fa()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Fa()<=Lt.DEBUG&&at("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Fa()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):$.resolve())}gs(t,i){if(xv(i))return $.resolve(null);let a=Oi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=im(i,null,"F"),a=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=zt(...h);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,g);return this.Ss(i,_,d,v.readTime)?this.gs(t,im(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,l){return xv(i)||l.isEqual(Tt.min())?$.resolve(null):this.fs.getDocuments(t,a).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,a,l)?$.resolve(null):(Fa()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.Ds(t,d,i,eR(l,Ol)).next((g=>g)))}))}bs(t,i){let a=new Le(kE(t));return i.forEach(((l,h)=>{ph(t,h)&&(a=a.add(h))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(t,i,a){return Fa()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.fs.getDocumentsMatchingQuery(t,i,rr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Bm="LocalStore",UC=3e8;class LC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new me(Pt),this.Fs=new ta((h=>xm(h)),Dm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function PC(r,t,i,a){return new LC(r,t,i,a)}async function rT(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let v=zt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of h){g.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function zC(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,b){const S=_.batch,M=S.keys();let X=$.resolve();return M.forEach((Z=>{X=X.next((()=>b.getEntry(v,Z))).next((it=>{const nt=_.docVersions.get(Z);Xt(nt!==null,48541),it.version.compareTo(nt)<0&&(S.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),b.addEntry(it)))}))})),X.next((()=>g.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=zt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function aT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function jC(r,t){const i=St(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((b,S)=>{const M=l.get(S);if(!M)return;g.push(i.li.removeMatchingKeys(h,b.removedDocuments,S).next((()=>i.li.addMatchingKeys(h,b.addedDocuments,S))));let X=M.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(S)!==null?X=X.withResumeToken($e.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(b.resumeToken,a)),l=l.insert(S,X),(function(it,nt,mt){return it.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=UC?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,X,b)&&g.push(i.li.updateTargetData(h,X))}));let v=fs(),_=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),g.push(BC(h,d,t.documentUpdates).next((b=>{v=b.Bs,_=b.Ls}))),!a.isEqual(Tt.min())){const b=i.li.getLastRemoteSnapshotVersion(h).next((S=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=l,h)))}function BC(r,t,i){let a=zt(),l=zt();return i.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let d=fs();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):at(Bm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function HC(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function qC(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((h=>h?(l=h,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Ws(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function lm(r,t,i){const a=St(r),l=a.vs.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;at(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function qv(r,t,i){const a=St(r);let l=Tt.min(),h=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,b){const S=St(v),M=S.Fs.get(b);return M!==void 0?$.resolve(S.vs.get(M)):S.li.getTargetData(_,b)})(a,d,Oi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?h:zt()))).next((g=>(GC(a,NR(t),g),{documents:g,ks:h})))))}function GC(r,t,i){let a=r.Ms.get(t)||Tt.min();i.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Ms.set(t,a)}class Gv{constructor(){this.activeTargetIds=kR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class FC{constructor(){this.vo=new Gv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class QC{Mo(t){}shutdown(){}}const Fv="ConnectivityMonitor";class Qv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Fv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function um(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Ld="RestConnection",KC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class YC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,h){const d=um(),g=this.Qo(t,i.toUriEncodedString());at(Ld,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,h);const{host:_}=new URL(g),b=uo(_);return this.zo(t,g,v,a,b).then((S=>(at(Ld,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw $r(Ld,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(t,i,a,l,h,d){return this.Wo(t,i,a,l,h)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}Qo(t,i){const a=KC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class XC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const tn="WebChannelConnection",vl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class to extends YC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!to.c_){const t=hE();vl(t,cE.STAT_EVENT,(i=>{i.stat===Jd.PROXY?at(tn,"STAT_EVENT: detected buffering proxy"):i.stat===Jd.NOPROXY&&at(tn,"STAT_EVENT: detected no buffering proxy")})),to.c_=!0}}zo(t,i,a,l,h){const d=um();return new Promise(((g,v)=>{const _=new lE;_.setWithCredentials(!0),_.listenOnce(uE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case kc.NO_ERROR:const S=_.getResponseJson();at(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case kc.TIMEOUT:at(tn,`RPC '${t}' ${d} timed out`),v(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const M=_.getStatus();if(at(tn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let X=_.getResponseJson();Array.isArray(X)&&(X=X[0]);const Z=X?.error;if(Z&&Z.status&&Z.message){const it=(function(mt){const ct=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ct)>=0?ct:J.UNKNOWN})(Z.status);v(new ot(it,Z.message))}else v(new ot(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(tn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);at(tn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=um(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const _=h.join("");at(tn,`Creating RPC '${t}' stream ${l}: ${_}`,g);const b=d.createWebChannel(_,g);this.I_(b);let S=!1,M=!1;const X=new XC({Ho:Z=>{M?at(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(S||(at(tn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),S=!0),at(tn,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return vl(b,El.EventType.OPEN,(()=>{M||(at(tn,`RPC '${t}' stream ${l} transport opened.`),X.i_())})),vl(b,El.EventType.CLOSE,(()=>{M||(M=!0,at(tn,`RPC '${t}' stream ${l} transport closed`),X.o_(),this.E_(b))})),vl(b,El.EventType.ERROR,(Z=>{M||(M=!0,$r(tn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),X.o_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),vl(b,El.EventType.MESSAGE,(Z=>{if(!M){const it=Z.data[0];Xt(!!it,16349);const nt=it,mt=nt?.error||nt[0]?.error;if(mt){at(tn,`RPC '${t}' stream ${l} received error:`,mt);const ct=mt.status;let Et=(function(Ot){const N=Oe[Ot];if(N!==void 0)return QE(N)})(ct),jt=mt.message;ct==="NOT_FOUND"&&jt.includes("database")&&jt.includes("does not exist")&&jt.includes(this.databaseId.database)&&$r(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Et===void 0&&(Et=J.INTERNAL,jt="Unknown error status: "+ct+" with message "+mt.message),M=!0,X.o_(new ot(Et,jt)),b.close()}else at(tn,`RPC '${t}' stream ${l} received:`,it),X.__(it)}})),to.u_(),setTimeout((()=>{X.s_()}),0),X}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fE()}}function JC(r){return new to(r)}function Pd(){return typeof document<"u"?document:null}function vh(r){return new tC(r,!0)}to.c_=!1;class oT{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Kv="PersistentStream";class lT{constructor(t,i,a,l,h,d,g,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $C extends lT{constructor(t,i,a,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=iC(this.serializer,t),a=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Mi(d.readTime):Tt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=em(v)?{documents:aC(h,v)}:{query:oC(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=XE(h,d.resumeToken);const _=sm(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=nh(h,d.snapshotVersion.toTimestamp());const _=sm(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=uC(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.K_(i)}}class ZC extends lT{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=rC(t.writeResults,t.commitTime),a=Mi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>sC(this.serializer,a)))};this.K_(i)}}class WC{}class tI extends WC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(t,rm(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(J.UNKNOWN,h.toString())}))}jo(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,rm(i,a),l,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function eI(r,t,i,a){return new tI(r,t,i,a)}class nI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class iI{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{na(this)&&(at(Zr,"Restarting streams for network reachability change."),await(async function(v){const _=St(v);_.Ea.add(4),await Jl(_),_.Va.set("Unknown"),_.Ea.delete(4),await Eh(_)})(this))}))})),this.Va=new nI(a,l)}}async function Eh(r){if(na(r))for(const t of r.Ra)await t(!0)}async function Jl(r){for(const t of r.Ra)await t(!1)}function uT(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):go(i).O_()&&qm(i,t))}function Hm(r,t){const i=St(r),a=go(i);i.Ia.delete(t),a.O_()&&cT(i,t),i.Ia.size===0&&(a.O_()?a.L_():na(i)&&i.Va.set("Unknown"))}function qm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(r).Z_(t)}function cT(r,t){r.da.$e(t),go(r).X_(t)}function Gm(r){r.da=new JR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Va.ua()}function Fm(r){return na(r)&&!go(r).x_()&&r.Ia.size>0}function na(r){return St(r).Ea.size===0}function hT(r){r.da=void 0}async function sI(r){r.Va.set("Online")}async function rI(r){r.Ia.forEach(((t,i)=>{qm(r,t)}))}async function aI(r,t){hT(r),Fm(r)?(r.Va.ha(t),Gm(r)):r.Va.set("Unknown")}async function oI(r,t,i){if(r.Va.set("Online"),t instanceof YE&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(r,t)}catch(a){at(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(r,a)}else if(t instanceof zc?r.da.Xe(t):t instanceof KE?r.da.st(t):r.da.tt(t),!i.isEqual(Tt.min()))try{const a=await aT(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.da.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=h.Ia.get(_);b&&h.Ia.set(_,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const b=h.Ia.get(v);if(!b)return;h.Ia.set(v,b.withResumeToken($e.EMPTY_BYTE_STRING,b.snapshotVersion)),cT(h,v);const S=new Ws(b.target,v,_,b.sequenceNumber);qm(h,S)})),h.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at(Zr,"Failed to raise snapshot:",a),await sh(r,a)}}async function sh(r,t,i){if(!po(t))throw t;r.Ea.add(1),await Jl(r),r.Va.set("Offline"),i||(i=()=>aT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Zr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Eh(r)}))}function fT(r,t){return t().catch((i=>sh(r,i,t)))}async function Th(r){const t=St(r),i=ur(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cm;for(;lI(t);)try{const l=await HC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,uI(t,l)}catch(l){await sh(t,l)}dT(t)&&mT(t)}function lI(r){return na(r)&&r.Ta.length<10}function uI(r,t){r.Ta.push(t);const i=ur(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function dT(r){return na(r)&&!ur(r).x_()&&r.Ta.length>0}function mT(r){ur(r).start()}async function cI(r){ur(r).ra()}async function hI(r){const t=ur(r);for(const i of r.Ta)t.ea(i.mutations)}async function fI(r,t,i){const a=r.Ta.shift(),l=km.from(a,t,i);await fT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Th(r)}async function dI(r,t){t&&ur(r).Y_&&await(async function(a,l){if((function(d){return KR(d)&&d!==J.ABORTED})(l.code)){const h=a.Ta.shift();ur(a).B_(),await fT(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Th(a)}})(r,t),dT(r)&&mT(r)}async function Yv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),at(Zr,"RemoteStore received new credentials");const a=na(i);i.Ea.add(3),await Jl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function mI(r,t){const i=St(r);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Jl(i),i.Va.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(i,a,l){const h=St(i);return h.sa(),new $C(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:sI.bind(null,r),Yo:rI.bind(null,r),t_:aI.bind(null,r),J_:oI.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Fm(r)?Gm(r):r.Va.set("Unknown")):(await r.ma.stop(),hT(r))}))),r.ma}function ur(r){return r.fa||(r.fa=(function(i,a,l){const h=St(i);return h.sa(),new ZC(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cI.bind(null,r),t_:dI.bind(null,r),ta:hI.bind(null,r),na:fI.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Th(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Zr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,g=new Qm(t,i,d,l,h);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(r,t){if(hs("AsyncQueue",`${t}: ${r}`),po(r))return new ot(J.UNAVAILABLE,`${t}: ${r}`);throw r}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new eo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Xv{constructor(){this.ga=new me(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class lo{constructor(t,i,a,l,h,d,g,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new lo(t,i,eo.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class pI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class gI{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),h=l.queries;l.queries=Jv(),h.forEach(((d,g)=>{for(const v of g.ba)v.onError(a)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function Jv(){return new ta((r=>ME(r)),mh)}async function yI(r,t){const i=St(r);let a=3;const l=t.query;let h=i.queries.get(l);h?!h.Sa()&&t.Da()&&(a=2):(h=new pI,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Km(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.ba.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Ym(i)}async function _I(r,t){const i=St(r),a=t.query;let l=3;const h=i.queries.get(a);if(h){const d=h.ba.indexOf(t);d>=0&&(h.ba.splice(d,1),h.ba.length===0?l=t.Da()?0:1:!h.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function vI(r,t){const i=St(r);let a=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&Ym(i)}function EI(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const h of l.ba)h.onError(i);a.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var cm,$v;($v=cm||(cm={})).Ma="default",$v.Cache="cache";class TI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new lo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cm.Cache}}class pT{constructor(t){this.key=t}}class gT{constructor(t){this.key=t}}class bI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=kE(t),this.tu=new eo(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Xv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const M=l.get(b),X=ph(this.query,S)?S:null,Z=!!M&&this.mutatedKeys.has(M.key),it=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let nt=!1;M&&X?M.data.isEqual(X.data)?Z!==it&&(a.track({type:3,doc:X}),nt=!0):this.su(M,X)||(a.track({type:2,doc:X}),nt=!0,(v&&this.eu(X,v)>0||_&&this.eu(X,_)<0)&&(g=!0)):!M&&X?(a.track({type:0,doc:X}),nt=!0):M&&!X&&(a.track({type:1,doc:M}),nt=!0,(v||_)&&(g=!0)),nt&&(X?(d=d.add(X),h=it?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(X,Z){const it=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:nt})}};return it(X)-it(Z)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new lo(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new gT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new pT(a))})),i}cu(t){this.Za=t.ks,this.Ya=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xm="SyncEngine";class AI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class SI{constructor(t){this.key=t,this.hu=!1}}class wI{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((g=>ME(g)),mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(dt.comparator),this.Au=new Map,this.Vu=new Pm,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RI(r,t,i=!0){const a=bT(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await yT(a,t,i,!0),l}async function CI(r,t){const i=bT(r);await yT(i,t,!0,!1)}async function yT(r,t,i,a){const l=await qC(r.localStore,Oi(t)),h=l.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await II(r,t,h,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&uT(r.remoteStore,l),g}async function II(r,t,i,a,l){r.pu=(S,M,X)=>(async function(it,nt,mt,ct){let Et=nt.view.ru(mt);Et.Ss&&(Et=await qv(it.localStore,nt.query,!1).then((({documents:N})=>nt.view.ru(N,Et))));const jt=ct&&ct.targetChanges.get(nt.targetId),Qt=ct&&ct.targetMismatches.get(nt.targetId)!=null,Ot=nt.view.applyChanges(Et,it.isPrimaryClient,jt,Qt);return Wv(it,nt.targetId,Ot.au),Ot.snapshot})(r,S,M,X);const h=await qv(r.localStore,t,!0),d=new bI(t,h.ks),g=d.ru(h.documents),v=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,v);Wv(r,i,_.au);const b=new AI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function NI(r,t,i){const a=St(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((d=>!mh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await lm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Hm(a.remoteStore,l.targetId),hm(a,l.targetId)})).catch(mo)):(hm(a,l.targetId),await lm(a.localStore,l.targetId,!0))}async function xI(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hm(i.remoteStore,a.targetId))}async function DI(r,t,i){const a=PI(r);try{const l=await(function(d,g){const v=St(d),_=he.now(),b=g.reduce(((X,Z)=>X.add(Z.key)),zt());let S,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let Z=fs(),it=zt();return v.xs.getEntries(X,b).next((nt=>{Z=nt,Z.forEach(((mt,ct)=>{ct.isValidDocument()||(it=it.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(X,Z))).next((nt=>{S=nt;const mt=[];for(const ct of g){const Et=HR(ct,S.get(ct.key).overlayedDocument);Et!=null&&mt.push(new ea(ct.key,Et,RE(Et.value.mapValue),Vi.exists(!0)))}return v.mutationQueue.addMutationBatch(X,_,mt,g)})).next((nt=>{M=nt;const mt=nt.applyToLocalDocumentSet(S,it);return v.documentOverlayCache.saveOverlays(X,nt.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:LE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let _=d.du[d.currentUser.toKey()];_||(_=new me(Pt)),_=_.insert(g,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await $l(a,l.changes),await Th(a.remoteStore)}catch(l){const h=Km(l,"Failed to persist write");i.reject(h)}}async function _T(r,t){const i=St(r);try{const a=await jC(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await $l(i,a,t)}catch(a){await mo(a)}}function Zv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=St(d);v.onlineState=g;let _=!1;v.queries.forEach(((b,S)=>{for(const M of S.ba)M.va(g)&&(_=!0)})),_&&Ym(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function OI(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),h=l&&l.key;if(h){let d=new me(dt.comparator);d=d.insert(h,nn.newNoDocument(h,Tt.min()));const g=zt().add(h),v=new _h(Tt.min(),new Map,new me(Pt),d,g);await _T(a,v),a.Ru=a.Ru.remove(h),a.Au.delete(t),Jm(a)}else await lm(a.localStore,t,!1).then((()=>hm(a,t,i))).catch(mo)}async function VI(r,t){const i=St(r),a=t.batch.batchId;try{const l=await zC(i.localStore,t);ET(i,a,null),vT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,l)}catch(l){await mo(l)}}async function MI(r,t,i){const a=St(r);try{const l=await(function(d,g){const v=St(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return v.mutationQueue.lookupMutationBatch(_,g).next((S=>(Xt(S!==null,37113),b=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>v.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);ET(a,t,i),vT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await $l(a,l)}catch(l){await mo(l)}}function vT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ET(r,t,i){const a=St(r);let l=a.du[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function hm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||TT(r,a)}))}function TT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Hm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Jm(r))}function Wv(r,t,i){for(const a of i)a instanceof pT?(r.Vu.addReference(a.key,t),kI(r,a)):a instanceof gT?(at(Xm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||TT(r,a.key)):yt(19791,{wu:a})}function kI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(at(Xm,"New document in limbo: "+i),r.Eu.add(a),Jm(r))}function Jm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(le.fromString(t)),a=r.fu.next();r.Au.set(a,new SI(i)),r.Ru=r.Ru.insert(i,a),uT(r.remoteStore,new Ws(Oi(Om(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function $l(r,t,i){const a=St(r),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(_){l.push(_);const b=jm.Es(v.targetId,_);h.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const b=St(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(M=>$.forEach(M.Ts,(X=>b.persistence.referenceDelegate.addReference(S,M.targetId,X))).next((()=>$.forEach(M.Is,(X=>b.persistence.referenceDelegate.removeReference(S,M.targetId,X)))))))))}catch(S){if(!po(S))throw S;at(Bm,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const X=b.vs.get(M),Z=X.snapshotVersion,it=X.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(M,it)}}})(a.localStore,h))}async function UI(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){at(Xm,"User change. New user:",t.toKey());const a=await rT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new ot(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ns)}}function LI(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function bT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OI.bind(null,t),t.Pu.J_=vI.bind(null,t.eventManager),t.Pu.yu=EI.bind(null,t.eventManager),t}function PI(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MI.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return PC(this.persistence,new kC,t.initialUser,this.serializer)}Cu(t){return new sT(zm.Vi,this.serializer)}Du(t){return new FC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class zI extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new EC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new sT((a=>ih.Vi(a,i)),this.serializer)}}class fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=UI.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gI})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=JC(t.databaseInfo);return eI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,h,d,g){return new iI(a,l,h,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Zv(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new QC})())}createSyncEngine(t,i){return(function(l,h,d,g,v,_,b){const S=new wI(l,h,d,g,v,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);at(Zr,"RemoteStore shutting down."),a.Ea.add(5),await Jl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class jI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const cr="FirestoreClient";class BI{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{at(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Km(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function zd(r,t){r.asyncQueue.verifyOperationInProgress(),at(cr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await rT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function t0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await HI(r);at(cr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Yv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Yv(t.remoteStore,l))),r._onlineComponents=t}async function HI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(cr,"Using user provided OfflineComponentProvider");try{await zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$r("Error using user provided cache. Falling back to memory cache: "+i),await zd(r,new rh)}}else at(cr,"Using default OfflineComponentProvider"),await zd(r,new zI(void 0));return r._offlineComponents}async function AT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(cr,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(at(cr,"Using default OnlineComponentProvider"),await t0(r,new fm))),r._onlineComponents}function qI(r){return AT(r).then((t=>t.syncEngine))}async function e0(r){const t=await AT(r),i=t.eventManager;return i.onListen=RI.bind(null,t.syncEngine),i.onUnlisten=NI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=CI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=xI.bind(null,t.syncEngine),i}function GI(r,t,i,a){const l=new jI(a),h=new TI(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>yI(await e0(r),h))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>_I(await e0(r),h)))}}function FI(r,t){const i=new Fr;return r.asyncQueue.enqueueAndForget((async()=>DI(await qI(r),t,i))),i.promise}function ST(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const QI="ComponentProvider",n0=new Map;function KI(r,t,i,a,l){return new hR(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,ST(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const wT="firestore.googleapis.com",i0=!0;class s0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wT,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_C)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new G2;switch(a.type){case"firstParty":return new Y2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n0.get(i);a&&(at(QI,"Removing Datastore"),n0.delete(i),a.terminate())})(this),Promise.resolve()}}function YI(r,t,i,a={}){r=Wa(r,bh);const l=uo(t),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(b0(`https://${g}`),A0("Firestore",!0)),h.host!==wT&&h.host!==g&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:l,emulatorOptions:a};if(!Kr(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=en.MOCK_USER;else{_=fA(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new en(S)}r._authCredentials=new F2(new mE(_,b))}}class yo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new yo(this.firestore,t,this._query)}}class Ue{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,Ue._jsonSchema))return new Ue(t,a||null,new dt(le.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Me("string",Ue._jsonSchemaVersion),referencePath:Me("string")};class sr extends yo{constructor(t,i,a){super(t,i,Om(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new dt(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function r0(r,t,...i){if(r=_n(r),pE("collection","path",t),r instanceof bh){const a=le.fromString(t,...i);return gv(a),new sr(r,null,a)}{if(!(r instanceof Ue||r instanceof sr))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return gv(a),new sr(r.firestore,null,a)}}function RT(r,t,...i){if(r=_n(r),arguments.length===1&&(t=Rm.newId()),pE("doc","path",t),r instanceof bh){const a=le.fromString(t,...i);return pv(a),new Ue(r,null,new dt(a))}{if(!(r instanceof Ue||r instanceof sr))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return pv(a),new Ue(r.firestore,r instanceof sr?r.converter:null,new dt(a))}}const a0="AsyncQueue";class o0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oT(this,"async_queue_retry"),this._c=()=>{const a=Pd();a&&at(a0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;at(a0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",l0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Qm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function l0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Pl extends bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new o0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new o0(t),this._firestoreClient=void 0,await t}}}function XI(r,t){const i=typeof r=="object"?r:C0(),a=typeof r=="string"?r:Jc,l=gm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=cA("firestore");h&&YI(l,...h)}return l}function CT(r){if(r._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JI(r),r._firestoreClient}function JI(r){const t=r._freezeSettings(),i=KI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new BI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(r._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn($e.fromBase64String(t))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Gn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Me("string",Gn._jsonSchemaVersion),bytes:Me("string")};class IT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class NT{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Me("string",ki._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class ai{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ai(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Me("string",ai._jsonSchemaVersion),vectorValues:Me("object")};const $I=/^__.*__$/;class ZI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ea(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}function xT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:r})}}class $m{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new $m({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ah(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(xT(this.dataSource)&&$I.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class WI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}createContext(t,i,a,l=!1){return new $m({dataSource:t,methodName:i,targetDoc:a,path:Je.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DT(r){const t=r._freezeSettings(),i=vh(r._databaseId);return new WI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function tN(r,t,i,a,l,h={}){const d=r.createContext(h.merge||h.mergeFields?2:0,t,i,l);MT("Data must be an object, but it was:",d,a);const g=OT(a,d);let v,_;if(h.merge)v=new ri(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const S of h.mergeFields){const M=Wm(t,S,i);if(!d.contains(M))throw new ot(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);sN(b,M)||b.push(M)}v=new ri(b),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new ZI(new qn(g),v,_)}function eN(r,t,i,a=!1){return Zm(i,r.createContext(a?4:3,t))}function Zm(r,t){if(VT(r=_n(r)))return MT("Unsupported field value:",t,r),OT(r,t);if(r instanceof NT)return(function(a,l){if(!xT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const h=[];let d=0;for(const g of a){let v=Zm(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,t)}return(function(a,l){if((a=_n(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return UR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=he.fromDate(a);return{timestampValue:nh(l.serializer,h)}}if(a instanceof he){const h=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,h)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:XE(l.serializer,a._byteString)};if(a instanceof Ue){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Lm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ai)return(function(d,g){const v=d instanceof ai?d.toArray():d;return{mapValue:{fields:{[SE]:{stringValue:wE},[$c]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return Vm(g.serializer,b)}))}}}}}})(a,l);if(nT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${ch(a)}`)})(r,t)}function OT(r,t){const i={};return _E(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(r,((a,l)=>{const h=Zm(l,t.childContextForField(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function VT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof ki||r instanceof Gn||r instanceof Ue||r instanceof NT||r instanceof ai||nT(r))}function MT(r,t,i){if(!VT(i)||!gE(i)){const a=ch(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Wm(r,t,i){if((t=_n(t))instanceof IT)return t._internalPath;if(typeof t=="string")return iN(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const nN=new RegExp("[~\\*/\\[\\]]");function iN(r,t,i){if(t.search(nN)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new IT(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ot(J.INVALID_ARGUMENT,g+r+v)}function sN(r,t){return r.some((i=>i.isEqual(t)))}class rN{convertValue(t,i="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Wr(t,((l,h)=>{a[l]=this.convertValue(h,i)})),a}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new ai(i)}convertGeoPoint(t){return new ki(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=ar(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Xt(eT(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),h=new dt(a.popFirst(5));return l.isEqual(i)||hs(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class kT extends rN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}const u0="@firebase/firestore",c0="4.11.0";function h0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(r,["next","error","complete"])}class UT{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Wm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class aN extends UT{data(){return super.data()}}function oN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tp{}class lN extends tp{}function uN(r,t,...i){let a=[];t instanceof tp&&a.push(t),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof np)).length,g=h.filter((v=>v instanceof ep)).length;if(d>1||d>0&&g>0)throw new ot(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class ep extends lN{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new ep(t,i,a)}_apply(t){const i=this._parse(t);return LT(t._query,i),new yo(t.firestore,t.converter,nm(t._query,i))}_parse(t){const i=DT(t.firestore);return(function(h,d,g,v,_,b,S){let M;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ot(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){d0(S,b);const Z=[];for(const it of S)Z.push(f0(v,h,it));M={arrayValue:{values:Z}}}else M=f0(v,h,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||d0(S,b),M=eN(g,d,S,b==="in"||b==="not-in");return Ve.create(_,b,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class np extends tp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new np(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,h){let d=l;const g=h.getFlattenedFilters();for(const v of g)LT(d,v),d=nm(d,v)})(t._query,i),new yo(t.firestore,t.converter,nm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function f0(r,t,i){if(typeof(i=_n(i))=="string"){if(i==="")throw new ot(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VE(t)&&i.indexOf("/")!==-1)throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(le.fromString(i));if(!dt.isDocumentKey(a))throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Sv(r,new dt(a))}if(i instanceof Ue)return Sv(r,i._key);throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(i)}.`)}function d0(r,t){if(!Array.isArray(r)||r.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function LT(r,t){const i=(function(l,h){for(const d of l)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function cN(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends UT{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Wm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Me("string",Qr._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class jc extends Qr{data(t={}){return super.data(t)}}class no{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:hN(g.type),doc:v,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Me("string",no._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};function fN(r){return PT(Wa(r.firestore,Pl),[new Mm(r._key,Vi.none())])}function dN(r,t){const i=Wa(r.firestore,Pl),a=RT(r),l=cN(r.converter,t),h=DT(r.firestore);return PT(i,[tN(h,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Vi.exists(!1))]).then((()=>a))}function mN(r,...t){r=_n(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||h0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(h0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let h,d,g;if(r instanceof Ue)d=Wa(r.firestore,Pl),g=Om(r._key.path),h={next:_=>{t[a]&&t[a](pN(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Wa(r,yo);d=Wa(_.firestore,Pl),g=_._query;const b=new kT(d);h={next:S=>{t[a]&&t[a](new no(d,b,_,S))},error:t[a+1],complete:t[a+2]},oN(r._query)}const v=CT(d);return GI(v,g,l,h)}function PT(r,t){const i=CT(r);return FI(i,t)}function pN(r,t,i){const a=i.docs.get(t._key),l=new kT(r);return new Qr(r,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){q2(co),io(new Yr("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Pl(new Q2(a.getProvider("auth-internal")),new X2(d,a.getProvider("app-check-internal")),fR(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),nr(u0,c0,t),nr(u0,c0,"esm2020")})();const gN={apiKey:"AIzaSyDnpVYSC2v3Pbr4DGOxf-sKvcRhFFqtWRE",authDomain:"maintence-6ef08.firebaseapp.com",projectId:"maintence-6ef08",storageBucket:"maintence-6ef08.firebasestorage.app",messagingSenderId:"1085348103519",appId:"1:1085348103519:web:06c21952276975ab5022ea",measurementId:"G-31S2V238QE"},zT=R0(gN),jd=B2(zT),Bd=XI(zT),m0="AIzaSyAF9FNs-30DnqlImJ90_EtbgXJj2WrVYFA",yN=()=>{const[r,t]=Wt.useState(!1),[i,a]=Wt.useState(""),[l,h]=Wt.useState(""),[d,g]=Wt.useState(null),[v,_]=Wt.useState("edit"),[b,S]=Wt.useState(!1),[M,X]=Wt.useState([]),[Z,it]=Wt.useState(""),[nt,mt]=Wt.useState({}),[ct,Et]=Wt.useState({institution:"SENAI",unitName:"Servio Nacional de Aprendizagem Industrial",docente:"",curso:"",unidadeCurricular:"",turma:"",studentName:"",data:"",estado:"Santa Catarina"}),[jt,Qt]=Wt.useState([{id:1,capacidade:"",contexto:"",comando:"",image:null,lines:5,type:"text",options:["","","",""],selectedUC:""}]),[Ot,N]=Wt.useState(""),[A,I]=Wt.useState("Boa Prova!"),[V,x]=Wt.useState(!1),[U,w]=Wt.useState(""),[te,pe]=Wt.useState(""),[G,tt]=Wt.useState(!1),[ht,Vt]=Wt.useState(""),[qt,O]=Wt.useState(5),[K,et]=Wt.useState("");Wt.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await Cw(jd,__initial_auth_token):await bw(jd)}catch(st){console.error("Erro na conexo:",st)}})();const gt=xw(jd,g);return()=>gt()},[]),Wt.useEffect(()=>{if(!d)return;const q=uN(r0(Bd,"courses")),gt=mN(q,st=>{const bt=st.docs.map(Nt=>({id:Nt.id,...Nt.data()}));bt.sort((Nt,Ze)=>Nt.name.localeCompare(Ze.name)),X(bt)},st=>{console.error("Erro ao buscar cursos:",st)});return()=>gt()},[d]),Wt.useEffect(()=>{if(Z){const q=M.find(gt=>gt.id===Z);q&&(mt(q.data||{}),Et(gt=>({...gt,curso:q.name})))}else mt({})},[Z,M]);const rt=q=>{q.preventDefault(),i==="admin"&&l==="admin"?t(!0):alert("Usurio ou senha incorretos! (Dica: admin / admin)")},_t=()=>{t(!1),a(""),h("")},wt=async q=>{try{const gt=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${m0}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instances:[{prompt:q+", technical 2D diagram style, clean lines, black and white educational illustration, schematic, isolated on white background, no text"}],parameters:{sampleCount:1}})}),st=await gt.json();return gt.ok?st.predictions&&st.predictions[0]&&st.predictions[0].bytesBase64Encoded?`data:image/png;base64,${st.predictions[0].bytesBase64Encoded}`:null:(console.error("Erro detalhado da API de Imagem:",st),null)}catch(gt){return console.error("Erro crtico ao tentar gerar imagem:",gt),null}},Mt=async()=>{if(!Z){alert("Por favor, selecione um curso primeiro.");return}if(!ht.trim()){alert("Digite um tema para a avaliao.");return}S(!0),et("Planejando avaliao com Gemini 2.5 Flash...");try{const q=ct.curso||"Curso Tcnico",gt=ct.unidadeCurricular||"Geral",st=`
        Voc  um assistente acadmico do SENAI. Crie uma avaliao tcnica profissional.
        Curso: ${q}
        UC: ${gt}
        Tema: ${ht}
        Quantidade: ${qt} questes.
        
        IMPORTANTE: Responda APENAS com o JSON puro, sem markdown, sem \`\`\`json.
        
        Siga RIGOROSAMENTE este formato JSON:
        [
          {
            "capacidade": "string (capacidade tcnica do currculo)",
            "contexto": "string (uma situao real de trabalho, curta)",
            "comando": "string (a pergunta clara)",
            "type": "multiple_choice" ou "text",
            "options": ["alternativa A", "alternativa B", "alternativa C", "alternativa D"] (apenas se type for multiple_choice),
            "imagePrompt": "string (descrio em INGLS de um diagrama tcnico para esta questo, ex: 'schematic of a circuit breaker')"
          }
        ]
      `,bt=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${m0}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:st}]}],generationConfig:{responseMimeType:"application/json"}})}),Nt=await bt.json();if(!bt.ok)throw console.error("Erro API Texto:",Nt),new Error(`Erro Gemini: ${Nt.error?.message||bt.status}`);let Ze=Nt.candidates?.[0]?.content?.parts?.[0]?.text;if(!Ze)throw new Error("A IA no retornou texto.");const Fn=JSON.parse(Ze),gs=[];for(let an=0;an<Fn.length;an++){const un=Fn[an];et(`Criando questo ${an+1} de ${Fn.length}...`);let mr=null;un.imagePrompt&&un.imagePrompt.length>5&&(et(`Desenhando diagrama para a questo ${an+1}...`),await new Promise(ia=>setTimeout(ia,1500)),mr=await wt(un.imagePrompt)),gs.push({id:Date.now()+an,capacidade:un.capacidade||"",contexto:un.contexto||"",comando:un.comando||"",image:mr,lines:5,type:un.type==="multiple_choice"?"multiple_choice":"text",options:un.options&&un.options.length>=2?un.options:["","","",""],selectedUC:""})}Qt(gs),tt(!1),Vt(""),setTimeout(()=>alert("Sua avaliao foi gerada com sucesso!"),500)}catch(q){console.error(q),alert("Erro na gerao: "+q.message)}finally{S(!1),et("")}},re=q=>{const{name:gt,value:st}=q.target;Et(bt=>({...bt,[gt]:st}))},oe=()=>{Qt(q=>[...q,{id:Date.now(),capacidade:"",contexto:"",comando:"",image:null,lines:5,type:"text",options:["","","",""],selectedUC:""}])},He=(q,gt,st)=>{Qt(bt=>bt.map(Nt=>Nt.id===q?{...Nt,[gt]:st}:Nt))},ms=q=>{Qt(gt=>gt.filter(st=>st.id!==q))},Li=(q,gt)=>{if(gt===-1&&q===0||gt===1&&q===jt.length-1)return;const st=[...jt],bt=st[q];st[q]=st[q+gt],st[q+gt]=bt,Qt(st)},ps=(q,gt,st)=>{Qt(bt=>bt.map(Nt=>{if(Nt.id!==q)return Nt;const Ze=[...Nt.options];return Ze[gt]=st,{...Nt,options:Ze}}))},In=q=>{Qt(gt=>gt.map(st=>st.id!==q?st:{...st,options:[...st.options,""]}))},hr=(q,gt)=>{Qt(st=>st.map(bt=>{if(bt.id!==q)return bt;const Nt=bt.options.filter((Ze,Fn)=>Fn!==gt);return{...bt,options:Nt}}))},Pi=(q,gt)=>{const st=gt.target.files[0];if(st){const bt=new FileReader;bt.onloadend=()=>{He(q,"image",bt.result)},bt.readAsDataURL(st)}},fr=()=>{window&&(window.focus(),setTimeout(()=>{window.print()},100))},dr=async()=>{if(!U.trim()||!te.trim()){alert("Preencha o nome do curso e o JSON.");return}try{const q=JSON.parse(te);S(!0),await dN(r0(Bd,"courses"),{name:U,data:q,createdAt:Date.now()}),alert("Curso salvo com sucesso!"),w(""),pe(""),x(!1)}catch(q){console.error(q),alert("Erro ao salvar curso: Verifique se o JSON  vlido.")}finally{S(!1)}},ge=async(q,gt)=>{if(confirm(`Tem certeza que deseja excluir o curso "${gt}"?`))try{await fN(RT(Bd,"courses",q))}catch{alert("Erro ao excluir.")}};return C.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col md:flex-row relative font-sans",children:[V&&C.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4 print:hidden",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[C.jsx("h3",{className:"font-bold text-lg text-blue-900",children:"Cadastrar Novo Curso"}),C.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-red-500",children:C.jsx(Sc,{size:24})})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Nome do Curso"}),C.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"Ex: Eletricista Industrial",value:U,onChange:q=>w(q.target.value)})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Dados (JSON)"}),C.jsx("textarea",{className:"w-full p-2 border rounded font-mono text-xs h-40",placeholder:'{ "Matria 1": ["Capacidade A"], ... }',value:te,onChange:q=>pe(q.target.value)})]})]}),C.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[C.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 border rounded",children:"Cancelar"}),C.jsxs("button",{onClick:dr,disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700 flex items-center gap-2",children:[b?C.jsx(M_,{className:"animate-spin",size:16}):C.jsx(Kb,{size:16})," Salvar Curso"]})]})]})}),G&&C.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4 print:hidden",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[C.jsxs("h3",{className:"font-bold text-lg text-purple-900 flex items-center gap-2",children:[C.jsx(U_,{size:20})," IA - Assistente SENAI"]}),C.jsx("button",{onClick:()=>tt(!1),className:"text-gray-500 hover:text-red-500",children:C.jsx(Sc,{size:24})})]}),b?C.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center animate-pulse",children:[C.jsx(M_,{size:48,className:"text-purple-600 animate-spin mb-4"}),C.jsx("p",{className:"text-sm font-bold text-gray-700",children:K}),C.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Isso pode levar alguns segundos por imagem..."})]}):C.jsxs("div",{className:"space-y-4",children:[C.jsx("div",{className:"bg-purple-50 p-3 rounded text-xs text-purple-800 border border-purple-200",children:C.jsx("p",{children:"A IA usar o contexto do curso selecionado no editor para gerar questes e diagramas."})}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Tema da Avaliao"}),C.jsx("input",{type:"text",className:"w-full p-2 border rounded outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Ex: Componentes Eletrnicos, NR10...",value:ht,onChange:q=>Vt(q.target.value)})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Questes"}),C.jsxs("select",{className:"w-full p-2 border rounded",value:qt,onChange:q=>O(Number(q.target.value)),children:[C.jsx("option",{value:"3",children:"3 Itens"}),C.jsx("option",{value:"5",children:"5 Itens"}),C.jsx("option",{value:"10",children:"10 Itens"})]})]}),C.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[C.jsx("button",{onClick:()=>tt(!1),className:"px-4 py-2 text-gray-600 border rounded",children:"Cancelar"}),C.jsxs("button",{onClick:Mt,className:"px-4 py-2 bg-purple-600 text-white rounded font-bold hover:bg-purple-700 flex items-center gap-2",children:[C.jsx(tA,{size:16})," Gerar Avaliao "]})]})]})]})}),C.jsxs("div",{className:`w-full md:w-2/5 lg:w-1/3 bg-white border-r shadow-lg overflow-y-auto h-screen print:hidden ${v==="preview"?"hidden md:block":"block"}`,children:[C.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b",children:[C.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-900 text-white",children:[C.jsxs("span",{className:"font-bold text-sm flex items-center gap-2",children:[C.jsx(Ub,{size:16})," MechPlanner Admin"]}),r&&C.jsxs("button",{onClick:_t,className:"text-xs bg-blue-800 hover:bg-blue-700 px-2 py-1 rounded flex items-center gap-1",children:[C.jsx(Rd,{size:12})," Sair"]})]}),C.jsxs("div",{className:"flex border-b",children:[C.jsxs("button",{onClick:()=>_("edit"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 ${v==="edit"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[C.jsx(Pb,{size:16})," Editor"]}),C.jsxs("button",{onClick:()=>_("courses"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 ${v==="courses"?"text-green-600 border-b-2 border-green-600 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,children:[C.jsx(k_,{size:16})," Cursos"]})]})]}),v==="courses"&&C.jsx("div",{className:"p-6",children:r?C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[C.jsx("h2",{className:"text-green-900 font-bold text-sm mb-2",children:"Gerenciar Cursos"}),C.jsxs("button",{onClick:()=>x(!0),className:"w-full bg-green-600 text-white py-2 rounded text-xs font-bold hover:bg-green-700 flex items-center gap-2",children:[C.jsx(Cd,{size:16})," Cadastrar Novo Curso"]})]}),C.jsxs("h3",{className:"text-xs font-bold text-gray-500 uppercase mt-4",children:["Cursos Salvos (",M.length,")"]}),C.jsx("div",{className:"space-y-2",children:M.map(q=>C.jsxs("div",{className:"bg-white border p-3 rounded flex justify-between items-center shadow-sm",children:[C.jsxs("div",{children:[C.jsx("div",{className:"font-bold text-sm text-gray-800",children:q.name}),C.jsxs("div",{className:"text-xs text-gray-500",children:[Object.keys(q.data||{}).length," Unidades Curriculares"]})]}),C.jsx("button",{onClick:()=>ge(q.id,q.name),className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded",children:C.jsx(L_,{size:16})})]},q.id))})]}):C.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[C.jsx("div",{className:"flex justify-center mb-4",children:C.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:C.jsx(Rd,{size:32,className:"text-green-600"})})}),C.jsx("h2",{className:"text-lg font-bold text-center text-gray-800 mb-2",children:"rea Restrita"}),C.jsxs("form",{onSubmit:rt,className:"space-y-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Usurio"}),C.jsx("input",{type:"text",value:i,onChange:q=>a(q.target.value),className:"w-full p-2 border rounded",placeholder:"admin"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase mb-1",children:"Senha"}),C.jsx("input",{type:"password",value:l,onChange:q=>h(q.target.value),className:"w-full p-2 border rounded",placeholder:""})]}),C.jsx("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 rounded",children:"Entrar"})]})]})}),v==="edit"&&C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 shadow-sm",children:[C.jsxs("label",{className:"text-xs font-bold text-blue-800 uppercase mb-2 block flex items-center gap-2",children:[C.jsx(k_,{size:14})," Selecione o Curso"]}),C.jsxs("select",{className:"w-full p-2 border border-blue-300 rounded text-sm bg-white",value:Z,onChange:q=>it(q.target.value),children:[C.jsx("option",{value:"",children:"-- Selecione o curso para carregar UCs --"}),M.map(q=>C.jsx("option",{value:q.id,children:q.name},q.id))]})]}),C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Editor"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("button",{onClick:()=>tt(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded shadow-md flex items-center gap-2 text-xs font-bold transition-all transform hover:scale-105",title:"Gerar com IA",children:[C.jsx(U_,{size:16})," Gerar com IA"]}),C.jsx("button",{onClick:fr,className:"bg-gray-800 hover:bg-gray-900 text-white p-2 rounded shadow-md",title:"Imprimir / PDF",children:C.jsx(Fb,{size:20})})]})]}),C.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[C.jsx("h2",{className:"text-xs font-bold text-gray-500 uppercase mb-3",children:"Cabealho"}),C.jsxs("div",{className:"grid gap-3",children:[C.jsx("input",{type:"text",name:"docente",placeholder:"Nome do Docente",value:ct.docente,onChange:re,className:"w-full p-2 border rounded text-sm"}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"text",name:"curso",placeholder:"Nome do Curso",value:ct.curso,onChange:re,className:"w-full p-2 border rounded text-sm bg-gray-100"}),C.jsx(Rd,{size:12,className:"absolute right-2 top-3 text-gray-400"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[Z&&Object.keys(nt).length>0?C.jsxs("select",{name:"unidadeCurricular",value:ct.unidadeCurricular,onChange:re,className:"w-full p-2 border rounded text-sm bg-white",children:[C.jsx("option",{value:"",children:"Selecione a UC..."}),Object.keys(nt).map(q=>C.jsx("option",{value:q,children:q},q))]}):C.jsx("input",{type:"text",name:"unidadeCurricular",placeholder:"Unidade Curricular",value:ct.unidadeCurricular,onChange:re,className:"w-full p-2 border rounded text-sm"}),C.jsx("input",{type:"text",name:"turma",placeholder:"Turma",value:ct.turma,onChange:re,className:"w-full p-2 border rounded text-sm"})]}),C.jsx("input",{type:"text",name:"studentName",placeholder:"Nome do Estudante (Opcional)",value:ct.studentName,onChange:re,className:"w-full p-2 border rounded text-sm"}),C.jsx("input",{type:"text",name:"data",placeholder:"Data da Avaliao",value:ct.data,onChange:re,className:"w-full p-2 border rounded text-sm"})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsxs("h2",{className:"text-xs font-bold text-gray-500 uppercase",children:["Itens da Avaliao (",jt.length,")"]}),C.jsxs("button",{onClick:oe,className:"flex items-center gap-1 text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-medium hover:bg-green-200",children:[C.jsx(Cd,{size:14})," Adicionar Item"]})]}),jt.map((q,gt)=>C.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4 shadow-sm relative group transition-all hover:border-blue-300",children:[C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("span",{className:"font-bold text-blue-800",children:["ITEM ",gt+1]}),C.jsxs("select",{value:q.type,onChange:st=>He(q.id,"type",st.target.value),className:"text-xs border rounded p-1 bg-gray-50 text-gray-700 outline-none",children:[C.jsx("option",{value:"text",children:"Dissertativa"}),C.jsx("option",{value:"multiple_choice",children:"Mltipla Escolha"})]})]}),C.jsxs("div",{className:"flex gap-1",children:[C.jsx("button",{onClick:()=>Li(gt,-1),className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",children:C.jsx(Mb,{size:16})}),C.jsx("button",{onClick:()=>Li(gt,1),className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",children:C.jsx(Ob,{size:16})}),C.jsx("button",{onClick:()=>ms(q.id),className:"p-1 text-red-400 hover:text-red-600 ml-2",children:C.jsx(L_,{size:16})})]})]}),Z&&C.jsxs("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200 mb-3",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2 text-yellow-800",children:[C.jsx(Jb,{size:14}),C.jsx("span",{className:"text-xs font-bold uppercase",children:"Assistente de Currculo"})]}),C.jsxs("select",{className:"w-full p-1.5 border rounded text-xs mb-2 bg-white",value:q.selectedUC||"",onChange:st=>He(q.id,"selectedUC",st.target.value),children:[C.jsx("option",{value:"",children:"1. Selecione a UC..."}),Object.keys(nt).map(st=>C.jsx("option",{value:st,children:st},st))]}),C.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-white disabled:opacity-50",disabled:!q.selectedUC,onChange:st=>{if(st.target.value){const bt=q.capacidade||"",Nt=bt?bt+`
`+st.target.value:st.target.value;He(q.id,"capacidade",Nt)}},value:"",children:[C.jsx("option",{value:"",children:"2. Adicionar Capacidade (Clica para incluir)"}),q.selectedUC&&nt[q.selectedUC]?.map((st,bt)=>C.jsxs("option",{value:st,children:[st.substring(0,80),"..."]},bt))]})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Capacidades Avaliadas"}),C.jsx("textarea",{value:q.capacidade,onChange:st=>He(q.id,"capacidade",st.target.value),className:"w-full p-2 border rounded text-sm h-24 resize-none focus:ring-2 focus:ring-blue-400",placeholder:"Lista de capacidades..."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Contextualizao (Contexto)"}),C.jsx("textarea",{value:q.contexto,onChange:st=>He(q.id,"contexto",st.target.value),className:"w-full p-2 border rounded text-sm h-16 resize-none focus:ring-2 focus:ring-blue-400",placeholder:"Cenrio ou problema..."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Instruo / Pergunta (Comando)"}),C.jsx("textarea",{value:q.comando,onChange:st=>He(q.id,"comando",st.target.value),className:"w-full p-2 border rounded text-sm h-16 resize-none focus:ring-2 focus:ring-blue-400",placeholder:"A pergunta em si..."})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("label",{className:"cursor-pointer bg-gray-100 hover:bg-gray-200 text-gray-600 px-3 py-1 rounded text-xs flex items-center gap-1 transition-all",children:[C.jsx(jb,{size:14})," Adicionar Imagem",C.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:st=>Pi(q.id,st)})]}),q.image&&C.jsxs("button",{onClick:()=>He(q.id,"image",null),className:"text-red-500 text-xs hover:underline flex items-center gap-1",children:[C.jsx(Sc,{size:12})," Remover"]})]}),q.image&&C.jsx("div",{className:"h-40 w-full bg-gray-50 border rounded flex items-center justify-center overflow-hidden",children:C.jsx("img",{src:q.image,className:"h-full object-contain",alt:"Preview"})}),q.type==="text"?C.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[C.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"Linhas para resposta:"}),C.jsx("input",{type:"number",min:"0",max:"20",value:q.lines||0,onChange:st=>He(q.id,"lines",parseInt(st.target.value)),className:"w-16 p-1 border rounded text-sm"})]}):C.jsxs("div",{className:"mt-2 bg-gray-50 p-3 rounded border border-gray-200",children:[C.jsx("label",{className:"text-xs font-semibold text-gray-500 block mb-2",children:"Alternativas"}),C.jsx("div",{className:"space-y-2",children:q.options.map((st,bt)=>C.jsxs("div",{className:"flex gap-2 items-center group/opt",children:[C.jsxs("span",{className:"text-sm font-bold w-4",children:[String.fromCharCode(97+bt),")"]}),C.jsx("input",{type:"text",value:st,onChange:Nt=>ps(q.id,bt,Nt.target.value),className:"flex-1 p-1.5 border rounded text-sm focus:ring-1 focus:ring-blue-400",placeholder:`Opo ${bt+1}`}),C.jsx("button",{onClick:()=>hr(q.id,bt),className:"text-red-400 opacity-0 group-hover/opt:opacity-100 transition-opacity",children:C.jsx(Sc,{size:14})})]},bt))}),C.jsxs("button",{onClick:()=>In(q.id),className:"mt-2 text-xs text-blue-600 flex items-center gap-1 hover:underline",children:[C.jsx(Cd,{size:12})," Adicionar Opo"]})]})]})]},q.id))]}),C.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[C.jsx("h2",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Rodap e Frmulas"}),C.jsx("textarea",{value:Ot,onChange:q=>N(q.target.value),className:"w-full p-2 border rounded text-sm h-20 mb-2 font-mono",placeholder:"Frmulas teis para a prova..."}),C.jsx("input",{type:"text",value:A,onChange:q=>I(q.target.value),className:"w-full p-2 border rounded text-sm",placeholder:"Frase motivacional de rodap"})]})]})]}),C.jsx("div",{className:`w-full md:w-3/5 lg:w-2/3 bg-gray-500 p-8 overflow-y-auto h-screen print:w-full print:p-0 print:h-auto print:bg-white print:overflow-visible print:block ${v==="preview"?"block":"hidden md:block"}`,children:C.jsxs("div",{id:"print-area",className:"bg-white shadow-2xl mx-auto w-[210mm] min-h-[297mm] p-[2cm] pt-[3cm] text-black font-sans text-[11pt] leading-tight print:shadow-none",children:[C.jsxs("div",{className:"border-2 border-black flex mb-6",children:[C.jsxs("div",{className:"w-[20%] border-r-2 border-black flex flex-col justify-center items-center p-2 text-center",children:[C.jsx("h1",{className:"text-2xl font-black italic tracking-tighter",children:"SENAI"}),C.jsx("span",{className:"text-[0.6rem] leading-tight mt-1 uppercase",children:ct.unitName})]}),C.jsxs("div",{className:"w-[60%] flex flex-col",children:[C.jsxs("div",{className:"border-b border-black p-1 pl-2",children:[C.jsx("span",{className:"font-bold mr-2",children:"Docente:"})," ",ct.docente]}),C.jsxs("div",{className:"border-b border-black p-1 pl-2",children:[C.jsx("span",{className:"font-bold mr-2",children:"Curso:"})," ",ct.curso]}),C.jsxs("div",{className:"border-b border-black p-1 pl-2",children:[C.jsx("span",{className:"font-bold mr-2",children:"UC:"})," ",ct.unidadeCurricular]}),C.jsxs("div",{className:"border-b border-black p-1 pl-2",children:[C.jsx("span",{className:"font-bold mr-2",children:"Turma:"})," ",ct.turma]}),C.jsxs("div",{className:"p-1 pl-2 flex-1 flex items-center",children:[C.jsx("span",{className:"font-bold mr-2",children:"Estudante:"})," ",ct.studentName]})]}),C.jsxs("div",{className:"w-[20%] border-l-2 border-black flex flex-col",children:[C.jsxs("div",{className:"border-b border-black p-1 pl-2 h-[50%] flex flex-col justify-center",children:[C.jsx("span",{className:"font-bold text-xs",children:"Data:"}),C.jsx("div",{className:"text-center font-bold",children:ct.data||"___/___/___"})]}),C.jsx("div",{className:"p-1 h-[50%] bg-gray-100 flex items-start pt-1 justify-center text-[10px] uppercase text-center font-bold",children:"Desempenho"})]})]}),C.jsx("h2",{className:"text-center font-bold text-xl uppercase border-b-2 border-black mb-6 pb-1",children:"Avaliao"}),C.jsx("div",{className:"space-y-6",children:jt.map((q,gt)=>C.jsxs("div",{className:"break-inside-avoid border border-black page-break-inside-avoid",children:[C.jsxs("div",{className:"bg-black text-white px-2 py-1 font-bold text-sm w-fit print-color-adjust",children:["ITEM ",gt+1]}),C.jsxs("div",{className:"p-3",children:[q.capacidade&&C.jsxs("div",{className:"mb-2 text-sm",children:[C.jsx("span",{className:"font-bold",children:"CAPACIDADE(S):"})," ",C.jsx("div",{className:"whitespace-pre-wrap ml-1",children:q.capacidade})]}),q.contexto&&C.jsxs("div",{className:"mb-2 text-sm",children:[C.jsx("span",{className:"font-bold italic",children:"Contexto:"})," ",q.contexto]}),C.jsxs("div",{className:"text-sm",children:[C.jsx("span",{className:"font-bold",children:"Comando:"})," ",q.comando]}),q.image&&C.jsx("div",{className:"my-4 flex justify-center",children:C.jsx("img",{src:q.image,className:"max-h-[8cm] max-w-full rounded border shadow-sm",alt:"Ilustrao da Questo"})}),q.type==="text"?q.lines>0&&C.jsx("div",{className:"mt-4 space-y-4 pt-2",children:Array.from({length:q.lines}).map((st,bt)=>C.jsx("div",{className:"border-b border-gray-400 w-full h-6"},bt))}):C.jsx("div",{className:"mt-4 space-y-2 pl-2",children:q.options.map((st,bt)=>C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("span",{className:"font-bold",children:[String.fromCharCode(97+bt),")"]}),C.jsx("span",{children:st})]},bt))})]})]},q.id))}),C.jsxs("div",{className:"mt-12 pt-4 border-t-2 border-black break-inside-avoid page-break-inside-avoid",children:[Ot&&C.jsx("div",{className:"mb-4 p-4 bg-gray-50 border border-gray-300 rounded font-mono text-sm whitespace-pre-wrap text-center",children:Ot}),C.jsx("div",{className:"text-center text-gray-500 italic text-sm mt-4",children:A})]})]})}),C.jsx("style",{children:`
        @media print {
            @page { 
                margin-top: 3cm; 
                margin-bottom: 2cm; 
                margin-left: 3cm; 
                margin-right: 2cm; 
                size: A4 portrait; 
            }
            body { 
                visibility: hidden; 
                margin: 0; 
                background: white !important;
            }
            #print-area { 
                visibility: visible; 
                position: absolute; 
                left: 0; 
                top: 0; 
                width: 100% !important; 
                margin: 0 !important; 
                padding: 0 !important; 
                background: transparent !important; 
                box-shadow: none !important; 
            }
            #print-area * { visibility: visible; }
            .page-break-inside-avoid { page-break-inside: avoid; break-inside: avoid; }
            * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
        }
      `})]})};wb.createRoot(document.getElementById("root")).render(C.jsx(Wt.StrictMode,{children:C.jsx(yN,{})}));
